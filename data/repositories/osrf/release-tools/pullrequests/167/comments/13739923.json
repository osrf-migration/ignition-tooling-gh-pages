{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/167/comments/13739923.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/167/_/diff#comment-13739923"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 167, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/167.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/167"}}, "title": "Brew bottles creation and hash updating"}, "content": {"raw": "I've updated the tests in the `ignition-math2`, `sdformat3`, and `gazebo6` formulae so that they will fail if there are any linking errors. Currently the `sdformat3` and `gazebo6` bottles are broken due to a newer version of boost in the master branch. I [asked a question on the homebrew issue tracker](https://github.com/Homebrew/homebrew/issues/47517#issuecomment-167955595), and I think that they re-trigger broken bottle builds by hand. We could add some additional homebrew testing jobs that would check specific formulae, for example:\n\n~~~\nbrew test-bot --tap=osrf/simulation --ci-testing ignition-math2\n~~~\n\nThis runs many commands, including testing all downstream formulae, and it detects failures in sdformat3 and gazebo6. We should be able to run this once a night to verify that formula installation is working. Then if we detect a problem, we could bump the bottle revision number and it would build a new bottle automatically?", "markup": "markdown", "html": "<p>I've updated the tests in the <code>ignition-math2</code>, <code>sdformat3</code>, and <code>gazebo6</code> formulae so that they will fail if there are any linking errors. Currently the <code>sdformat3</code> and <code>gazebo6</code> bottles are broken due to a newer version of boost in the master branch. I <a data-is-external-link=\"true\" href=\"https://github.com/Homebrew/homebrew/issues/47517#issuecomment-167955595\" rel=\"nofollow\">asked a question on the homebrew issue tracker</a>, and I think that they re-trigger broken bottle builds by hand. We could add some additional homebrew testing jobs that would check specific formulae, for example:</p>\n<div class=\"codehilite\"><pre><span></span>brew test-bot --tap=osrf/simulation --ci-testing ignition-math2\n</pre></div>\n\n\n<p>This runs many commands, including testing all downstream formulae, and it detects failures in sdformat3 and gazebo6. We should be able to run this once a night to verify that formula installation is working. Then if we detect a problem, we could bump the bottle revision number and it would build a new bottle automatically?</p>", "type": "rendered"}, "created_on": "2016-01-21T23:34:18.596758+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-01-21T23:34:18.604479+00:00", "type": "pullrequest_comment", "id": 13739923}