{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/30/comments/1224281.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/30/_/diff#comment-1224281"}}, "parent": {"id": 1210085, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/30/comments/1210085.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/30/_/diff#comment-1210085"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/30.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/30"}}, "title": "Download qt bottle or reuse it if it is already present in the sytem"}, "content": {"raw": "There is a hardcode path in the qmake configuration files distributed by the bottle, quite probably the original path where it was built:\n\n\n```\ncd /tmp/qt && grep -R 'jenkins.R7cR' *\n\nlib/QtSvg.framework/QtSvg.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtCore.framework/QtCore.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib   \nlib/QtHelp.framework/QtHelp.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtSql -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtGui -framework QtNetwork \nlib/QtXml.framework/QtXml.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtOpenGL.framework/QtOpenGL.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtScript.framework/QtScript.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtTest.framework/QtTest.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework IOKit -framework Security -framework ApplicationServices -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtScriptTools.framework/QtScriptTools.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtScript -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtGui \nlib/QtSql.framework/QtSql.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/phonon.framework/phonon.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtDeclarative.framework/QtDeclarative.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtScript -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtSvg -framework QtGui -framework QtSql -framework QtXmlPatterns -framework QtNetwork \nlib/QtNetwork.framework/QtNetwork.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/libQtCLucene.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtXmlPatterns.framework/QtXmlPatterns.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtNetwork -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtGui.framework/QtGui.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtMultimedia.framework/QtMultimedia.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework ApplicationServices -framework CoreAudio -framework AudioUnit -framework AudioToolbox -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \n```\n\nI will look for them and replace by the proper building directory. It will be an ugly hack but the improvement in time deserves it.", "markup": "markdown", "html": "<p>There is a hardcode path in the qmake configuration files distributed by the bottle, quite probably the original path where it was built:</p>\n<div class=\"codehilite\"><pre><span></span>cd /tmp/qt &amp;&amp; grep -R &#39;jenkins.R7cR&#39; *\n\nlib/QtSvg.framework/QtSvg.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtCore.framework/QtCore.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib   \nlib/QtHelp.framework/QtHelp.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtSql -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtGui -framework QtNetwork \nlib/QtXml.framework/QtXml.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtOpenGL.framework/QtOpenGL.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtScript.framework/QtScript.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtTest.framework/QtTest.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework IOKit -framework Security -framework ApplicationServices -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtScriptTools.framework/QtScriptTools.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtScript -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtGui \nlib/QtSql.framework/QtSql.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/phonon.framework/phonon.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtDeclarative.framework/QtDeclarative.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtScript -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -framework QtSvg -framework QtGui -framework QtSql -framework QtXmlPatterns -framework QtNetwork \nlib/QtNetwork.framework/QtNetwork.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/libQtCLucene.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtXmlPatterns.framework/QtXmlPatterns.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtNetwork -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \nlib/QtGui.framework/QtGui.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib \nlib/QtMultimedia.framework/QtMultimedia.prl:QMAKE_PRL_LIBS = -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework ApplicationServices -framework CoreAudio -framework AudioUnit -framework AudioToolbox -framework QtGui -L/opt/X11/lib -L/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -F/Users/jenkins/jenkins.R7cR/Cellar/qt/4.8.5/lib -framework QtCore \n</pre></div>\n\n\n<p>I will look for them and replace by the proper building directory. It will be an ugly hack but the improvement in time deserves it.</p>", "type": "rendered"}, "created_on": "2014-02-12T16:33:10.939068+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-02-12T16:33:10.947156+00:00", "type": "pullrequest_comment", "id": 1224281}