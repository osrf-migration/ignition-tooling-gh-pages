{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/525/comments/56835634.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/525/_/diff#comment-56835634"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 525, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/525.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/525"}}, "title": "Add servicesim job to job DSLs."}, "content": {"raw": "The `_ros_setup_catkin_make_isolated_buildsh.bash`script differs with the current `_ros_setup_buildsh.bash`just in the use of catkin\\_make instead of catkin\\_tools. \n\n```diff\n--- _ros_setup_buildsh.bash\t2018-01-15 00:37:12.640969303 +0100\n+++ _ros_setup_catkin_make_isolated_buildsh.bash\t2018-02-21 00:09:12.616622938 +0100\n@@ -54,9 +54,7 @@\n rm -fr ${CATKIN_WS}\n mkdir -p ${CATKIN_WS}/src\n cd ${CATKIN_WS}\n-catkin config --init --mkdirs\n ln -s \"${WORKSPACE}/${SOFTWARE_DIR}\" \"${CATKIN_WS}/src/${SOFTWARE_DIR}\"\n-catkin list\n echo '# END SECTION'\n DELIM_CONFIG\n \n@@ -72,7 +70,6 @@\n echo '# END SECTION'\n \n echo '# BEGIN SECTION install the system dependencies'\n-catkin list\n rosdep install --from-paths . \\\n                --ignore-src   \\\n                --rosdistro=${ROS_DISTRO} \\\n@@ -81,11 +78,11 @@\n echo '# END SECTION'\n \n echo '# BEGIN SECTION compile the catkin workspace'\n-catkin build -j${MAKE_JOBS} --verbose --summary\n+catkin_make_isolated -j${MAKE_JOBS}\n echo '# END SECTION'\n \n echo '# BEGIN SECTION: running tests'\n-catkin run_tests -j1 || true\n+catkin_make_isolated --catkin-make-args run_tests -j1 || true\n catkin_test_results --all --verbose || true\n \n # link test results to usual place\n```\n\nI don't have an strong preference but we should only maintain one version of them. Any problem using the current script with catkin tools?", "markup": "markdown", "html": "<p>The <code>_ros_setup_catkin_make_isolated_buildsh.bash</code>script differs with the current <code>_ros_setup_buildsh.bash</code>just in the use of catkin_make instead of catkin_tools. </p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gd\">--- _ros_setup_buildsh.bash 2018-01-15 00:37:12.640969303 +0100</span>\n<span class=\"gi\">+++ _ros_setup_catkin_make_isolated_buildsh.bash    2018-02-21 00:09:12.616622938 +0100</span>\n<span class=\"gu\">@@ -54,9 +54,7 @@</span>\n rm -fr ${CATKIN_WS}\n mkdir -p ${CATKIN_WS}/src\n cd ${CATKIN_WS}\n<span class=\"gd\">-catkin config --init --mkdirs</span>\n ln -s &quot;${WORKSPACE}/${SOFTWARE_DIR}&quot; &quot;${CATKIN_WS}/src/${SOFTWARE_DIR}&quot;\n<span class=\"gd\">-catkin list</span>\n echo &#39;# END SECTION&#39;\n DELIM_CONFIG\n\n<span class=\"gu\">@@ -72,7 +70,6 @@</span>\n echo &#39;# END SECTION&#39;\n\n echo &#39;# BEGIN SECTION install the system dependencies&#39;\n<span class=\"gd\">-catkin list</span>\n rosdep install --from-paths . \\\n                --ignore-src   \\\n                --rosdistro=${ROS_DISTRO} \\\n<span class=\"gu\">@@ -81,11 +78,11 @@</span>\n echo &#39;# END SECTION&#39;\n\n echo &#39;# BEGIN SECTION compile the catkin workspace&#39;\n<span class=\"gd\">-catkin build -j${MAKE_JOBS} --verbose --summary</span>\n<span class=\"gi\">+catkin_make_isolated -j${MAKE_JOBS}</span>\n echo &#39;# END SECTION&#39;\n\n echo &#39;# BEGIN SECTION: running tests&#39;\n<span class=\"gd\">-catkin run_tests -j1 || true</span>\n<span class=\"gi\">+catkin_make_isolated --catkin-make-args run_tests -j1 || true</span>\n catkin_test_results --all --verbose || true\n\n # link test results to usual place\n</pre></div>\n\n\n<p>I don't have an strong preference but we should only maintain one version of them. Any problem using the current script with catkin tools?</p>", "type": "rendered"}, "created_on": "2018-02-20T23:31:16.111747+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-02-20T23:31:16.116803+00:00", "type": "pullrequest_comment", "id": 56835634}