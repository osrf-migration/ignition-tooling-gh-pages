{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/463/comments/49341404.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/463/_/diff#comment-49341404"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 463, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/463.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/463"}}, "title": "Proposal: Updating to Visual Studio 2017 and improving Windows CI"}, "content": {"raw": "Late to the party, some ideas post-merge: I see the convenience of hosting CI instructions in the code repository, specially the option to have them automatically customized for each branch. The problem was not only present in Windows but in Linux too. With this change we have changed the CI infrastructure design, it is no longer hosted in a single place \\(release-tools\\) but now for Windows it is hosted in code repositories \\+ release-tools.\n\nWhile this has some advantages, it also presents problems: changes in infra code that is now hosted in different code repos are not going to be easy to propagate. How many different repositories do we need to change to update the filename of one of the zip dependencies? How can be sure that we change all them? The configure.bat script can no longer work without being called  from the release-tools repository, [it is using ](https://bitbucket.org/ignitionrobotics/ign-common/pull-requests/82/proposal-updating-to-visual-studio-2017/diff#Lconfigure.batT7)functions defined in this repo. How is now the procedure of compiling software in Windows for the users?\n\nHosting infrastructure code inside software repositories is now popular because of all the Testing as a Service platforms but I'm not sure that it can work well outside of simple repositories without shared procedures or data with others. Let give it a try, but we could be creating a monster for the future.\n\nMy 0.02 eurocents.", "markup": "markdown", "html": "<p>Late to the party, some ideas post-merge: I see the convenience of hosting CI instructions in the code repository, specially the option to have them automatically customized for each branch. The problem was not only present in Windows but in Linux too. With this change we have changed the CI infrastructure design, it is no longer hosted in a single place (release-tools) but now for Windows it is hosted in code repositories + release-tools.</p>\n<p>While this has some advantages, it also presents problems: changes in infra code that is now hosted in different code repos are not going to be easy to propagate. How many different repositories do we need to change to update the filename of one of the zip dependencies? How can be sure that we change all them? The configure.bat script can no longer work without being called  from the release-tools repository, <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-common/pull-requests/82/proposal-updating-to-visual-studio-2017/diff#Lconfigure.batT7\" rel=\"nofollow\">it is using </a>functions defined in this repo. How is now the procedure of compiling software in Windows for the users?</p>\n<p>Hosting infrastructure code inside software repositories is now popular because of all the Testing as a Service platforms but I'm not sure that it can work well outside of simple repositories without shared procedures or data with others. Let give it a try, but we could be creating a monster for the future.</p>\n<p>My 0.02 eurocents.</p>", "type": "rendered"}, "created_on": "2017-11-10T21:39:06.248022+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2017-11-10T21:39:06.251026+00:00", "type": "pullrequest_comment", "id": 49341404}