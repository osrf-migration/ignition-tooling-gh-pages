{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836/comments/103839907.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836/_/diff#comment-103839907"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 836, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836"}}, "title": "Fix and speed up ign-physics ABI builds"}, "content": {"raw": "yay! nice work! Not fully sure about what can happen with drogon but my main hypothesis is that memory consumption reach top and the OOM killed the jenkins process. There is some evidence for this in the syslog:\n\n```\nkern.log.1:May 25 00:47:21 ip-10-191-49-253 kernel: [1925974.611793] dockerd invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=-500\nkern.log.1:May 25 01:17:15 ip-10-191-49-253 kernel: [1927768.824142] abi-compliance- invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0\nkern.log.1:May 25 07:32:03 ip-10-191-49-253 kernel: [1950256.653939] java invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0\n```\n\nI\u2019ve been waiting drogon to finish other abicheckers to be sure that the problem is not related to jenkins behaviour \\(timeouts or empty console\\) and it was able to finish [gazebo successfully](https://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/822/consoleFull).\n\nWe have different options to workaround about this problem:\n\n1. Remove drogon from large-memory\n2. Add another huge-memory label to be used for ignition-pyhsics abichecker and add it to r2d2 and optimus.\n\n", "markup": "markdown", "html": "<p>yay! nice work! Not fully sure about what can happen with drogon but my main hypothesis is that memory consumption reach top and the OOM killed the jenkins process. There is some evidence for this in the syslog:</p>\n<div class=\"codehilite\"><pre><span></span>kern.log.1:May 25 00:47:21 ip-10-191-49-253 kernel: [1925974.611793] dockerd invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=-500\nkern.log.1:May 25 01:17:15 ip-10-191-49-253 kernel: [1927768.824142] abi-compliance- invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0\nkern.log.1:May 25 07:32:03 ip-10-191-49-253 kernel: [1950256.653939] java invoked oom-killer: gfp_mask=0x24201ca, order=0, oom_score_adj=0\n</pre></div>\n\n\n<p>I\u2019ve been waiting drogon to finish other abicheckers to be sure that the problem is not related to jenkins behaviour (timeouts or empty console) and it was able to finish <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-abichecker-any_to_any-xenial-amd64/822/consoleFull\" rel=\"nofollow\">gazebo successfully</a>.</p>\n<p>We have different options to workaround about this problem:</p>\n<ol>\n<li>Remove drogon from large-memory</li>\n<li>Add another huge-memory label to be used for ignition-pyhsics abichecker and add it to r2d2 and optimus.</li>\n</ol>", "type": "rendered"}, "created_on": "2019-05-29T15:57:46.691500+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-05-29T15:57:46.708198+00:00", "type": "pullrequest_comment", "id": 103839907}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836/comments/103843246.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836/_/diff#comment-103843246"}}, "parent": {"id": 103839907, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836/comments/103839907.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836/_/diff#comment-103839907"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 836, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836"}}, "title": "Fix and speed up ign-physics ABI builds"}, "content": {"raw": "another option is to change the logic to preemptively use `-quick` for ign-physics builds instead of using it as a fallback after a failure.\n\nI think my favorite option is huge-memory", "markup": "markdown", "html": "<p>another option is to change the logic to preemptively use <code>-quick</code> for ign-physics builds instead of using it as a fallback after a failure.</p>\n<p>I think my favorite option is huge-memory</p>", "type": "rendered"}, "created_on": "2019-05-29T16:18:36.528705+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-05-29T16:18:36.542063+00:00", "type": "pullrequest_comment", "id": 103843246}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836/comments/104183229.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836/_/diff#comment-104183229"}}, "parent": {"id": 103843246, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836/comments/103843246.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836/_/diff#comment-103843246"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 836, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/836.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/836"}}, "title": "Fix and speed up ign-physics ABI builds"}, "content": {"raw": "I\u2019ve implemented the huge-memory option and add the tags to the jenkins nodes.", "markup": "markdown", "html": "<p>I\u2019ve implemented the huge-memory option and add the tags to the jenkins nodes.</p>", "type": "rendered"}, "created_on": "2019-06-01T20:11:01.043043+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-06-01T20:11:01.053950+00:00", "type": "pullrequest_comment", "id": 104183229}], "page": 1, "size": 3}