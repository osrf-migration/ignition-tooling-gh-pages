{"pagelen": 50, "values": [{"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "f057f6f58bd0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/f057f6f58bd0.json"}, "html": {"href": "#!/osrf/release-tools/commits/f057f6f58bd0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "13bf335fc111", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/13bf335fc111.json"}, "html": {"href": "#!/osrf/release-tools/commits/13bf335fc111"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-11T18:04:56.074254+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53502382.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53502382"}}, "parent": {"id": 53484626, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53484626.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53484626"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "yeah, we could consider that. I could add some checks for `set(SDFORMAT_MAJOR_VERSION` and `set(GAZEBO_MAJOR_VERSION`\n\nlet's try that in another pull request", "markup": "markdown", "html": "<p>yeah, we could consider that. I could add some checks for <code>set(SDFORMAT_MAJOR_VERSION</code> and <code>set(GAZEBO_MAJOR_VERSION</code></p>\n<p>let's try that in another pull request</p>", "type": "rendered"}, "created_on": "2018-01-11T18:04:36.634402+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-11T18:04:36.637370+00:00", "type": "pullrequest_comment", "id": 53502382}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53484626.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53484626"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "Not necessarily under the scope of this PR but, can we think on migrating the bash tricks in Linux done to get major versions by the use of the script?", "markup": "markdown", "html": "<p>Not necessarily under the scope of this PR but, can we think on migrating the bash tricks in Linux done to get major versions by the use of the script?</p>", "type": "rendered"}, "created_on": "2018-01-11T15:37:06.409085+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-01-11T15:37:06.411911+00:00", "type": "pullrequest_comment", "id": 53484626}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"approval": {"date": "2018-01-11T15:10:30.399574+00:00", "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"approval": {"date": "2018-01-11T01:18:50.747039+00:00", "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414250.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414250"}}, "parent": {"id": 53414014, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414014.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414014"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "print error message and return error code with `sys.exit` in 13bf335fc111", "markup": "markdown", "html": "<p>print error message and return error code with <code>sys.exit</code> in <a href=\"#!/osrf/release-tools/commits/13bf335fc111\" rel=\"nofollow\" class=\"ap-connect-link\">13bf335fc111</a></p>", "type": "rendered"}, "created_on": "2018-01-11T01:15:06.495487+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2018-01-11T01:15:06.498150+00:00", "type": "pullrequest_comment", "id": 53414250}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "13bf335fc111", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/13bf335fc111.json"}, "html": {"href": "#!/osrf/release-tools/commits/13bf335fc111"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-11T01:14:33.698089+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414168.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414168"}}, "parent": {"id": 53413890, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413890.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413890"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "If I remember correctly, Python exceptions provide a trace of where they originated, so that's probably good enough.", "markup": "markdown", "html": "<p>If I remember correctly, Python exceptions provide a trace of where they originated, so that's probably good enough.</p>", "type": "rendered"}, "created_on": "2018-01-11T01:12:28.376418+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2018-01-11T01:12:28.379417+00:00", "type": "pullrequest_comment", "id": 53414168}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414138.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414138"}}, "parent": {"id": 53414014, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414014.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414014"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "Something explicit would probably be helpful, since this is the kind of thing that would only bite us years from now when we've long forgotten about this script.", "markup": "markdown", "html": "<p>Something explicit would probably be helpful, since this is the kind of thing that would only bite us years from now when we've long forgotten about this script.</p>", "type": "rendered"}, "created_on": "2018-01-11T01:11:41.245883+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2018-01-11T01:11:41.248753+00:00", "type": "pullrequest_comment", "id": 53414138}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414053.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414053"}}, "parent": {"id": 53413315, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413315.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413315"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "2c50051", "markup": "markdown", "html": "<p><a href=\"#!/osrf/release-tools/commits/2c50051\" rel=\"nofollow\" class=\"ap-connect-link\">2c50051</a></p>", "type": "rendered"}, "created_on": "2018-01-11T01:09:29.632921+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2018-01-11T01:09:29.636140+00:00", "type": "pullrequest_comment", "id": 53414053}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2c500519dc09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/2c500519dc09.json"}, "html": {"href": "#!/osrf/release-tools/commits/2c500519dc09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-11T01:08:56.295139+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2c500519dc09", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/2c500519dc09.json"}, "html": {"href": "#!/osrf/release-tools/commits/2c500519dc09"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-11T01:08:55.669681+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53414014.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53414014"}}, "parent": {"id": 53413249, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413249.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413249"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "it currently prints a number if it can find one; otherwise it prints nothing\n\nI suppose we could print an error message and set an error return code", "markup": "markdown", "html": "<p>it currently prints a number if it can find one; otherwise it prints nothing</p>\n<p>I suppose we could print an error message and set an error return code</p>", "type": "rendered"}, "created_on": "2018-01-11T01:08:07.875025+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2018-01-11T01:08:07.877787+00:00", "type": "pullrequest_comment", "id": 53414014}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413890.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413890"}}, "parent": {"id": 53413214, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413214.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413214"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "it will raise an exception and exit if the file doesn't exist", "markup": "markdown", "html": "<p>it will raise an exception and exit if the file doesn't exist</p>", "type": "rendered"}, "created_on": "2018-01-11T01:04:10.763488+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2018-01-11T01:04:10.765782+00:00", "type": "pullrequest_comment", "id": 53413890}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413315.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413315"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "I wonder if we can/should put quotes around `%WORKSPACE%\\%VCS_DIRECTORY%\\CMakeLists.txt` to make sure that we're handling the possibility of spaces in the path name. Windows seems to use spaces in its path names fairly often.", "markup": "markdown", "html": "<p>I wonder if we can/should put quotes around <code>%WORKSPACE%\\%VCS_DIRECTORY%\\CMakeLists.txt</code> to make sure that we're handling the possibility of spaces in the path name. Windows seems to use spaces in its path names fairly often.</p>", "type": "rendered"}, "created_on": "2018-01-11T00:48:21.967629+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2018-01-11T00:48:21.969791+00:00", "type": "pullrequest_comment", "id": 53413315}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413249.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413249"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "Should we have a fallback `else` that prints out an error message in case we change something about one of the cmake scripts?", "markup": "markdown", "html": "<p>Should we have a fallback <code>else</code> that prints out an error message in case we change something about one of the cmake scripts?</p>", "type": "rendered"}, "created_on": "2018-01-11T00:46:40.895141+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2018-01-11T00:46:40.897257+00:00", "type": "pullrequest_comment", "id": 53413249}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53413214.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53413214"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "I'm not much of a python user, so this might be a dumb comment, but can we verify that the file was opened successfully, and then print out an error message if it failed?\n\nThat could help us catch hypothetical CI bugs where maybe the path to the `CMakeLists.txt` file changes for some reason.", "markup": "markdown", "html": "<p>I'm not much of a python user, so this might be a dumb comment, but can we verify that the file was opened successfully, and then print out an error message if it failed?</p>\n<p>That could help us catch hypothetical CI bugs where maybe the path to the <code>CMakeLists.txt</code> file changes for some reason.</p>", "type": "rendered"}, "created_on": "2018-01-11T00:45:42.763705+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2018-01-11T00:45:42.766423+00:00", "type": "pullrequest_comment", "id": 53413214}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53412968.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53412968"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "this is ready for review", "markup": "markdown", "html": "<p>this is ready for review</p>", "type": "rendered"}, "created_on": "2018-01-11T00:39:45.612812+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-11T00:39:45.615441+00:00", "type": "pullrequest_comment", "id": 53412968}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411680.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411680"}}, "parent": {"id": 53411355, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411355.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411355"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "the change in e3bbc5e is pretty minor, but yeah, it's weird to have to worry about path length", "markup": "markdown", "html": "<p>the change in <a href=\"#!/osrf/release-tools/commits/e3bbc5e\" rel=\"nofollow\" class=\"ap-connect-link\">e3bbc5e</a> is pretty minor, but yeah, it's weird to have to worry about path length</p>", "type": "rendered"}, "created_on": "2018-01-11T00:05:43.878937+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-11T00:05:43.881509+00:00", "type": "pullrequest_comment", "id": 53411680}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411651.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411651"}}, "parent": {"id": 53411221, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411221.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411221"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "yep, it still works", "markup": "markdown", "html": "<p>yep, it still works</p>", "type": "rendered"}, "created_on": "2018-01-11T00:05:00.235626+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-11T00:05:00.238019+00:00", "type": "pullrequest_comment", "id": 53411651}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411355.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411355"}}, "parent": {"id": 53411221, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411221.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411221"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "The things we need to do to accommodate Windows :cry: ", "markup": "markdown", "html": "<p>The things we need to do to accommodate Windows <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f622.png\" alt=\"\ud83d\ude22\" title=\":cry:\" data-emoji-short-name=\":cry:\" /> </p>", "type": "rendered"}, "created_on": "2018-01-10T23:58:46.043336+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-10T23:58:46.045760+00:00", "type": "pullrequest_comment", "id": 53411355}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411309.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411309"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "for the curious, I found that batch file syntax for reading command output into a variable from the following page:\n\n* https://blogs.msdn.microsoft.com/oldnewthing/20120731-00/?p=7003", "markup": "markdown", "html": "<p>for the curious, I found that batch file syntax for reading command output into a variable from the following page:</p>\n<ul>\n<li><a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20120731-00/?p=7003\" rel=\"nofollow\" class=\"ap-connect-link\">https://blogs.msdn.microsoft.com/oldnewthing/20120731-00/?p=7003</a></li>\n</ul>", "type": "rendered"}, "created_on": "2018-01-10T23:57:45.611051+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-10T23:57:45.614587+00:00", "type": "pullrequest_comment", "id": 53411309}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411252.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411252"}}, "parent": {"id": 53411221, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411221.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411221"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "that change would be much more complicated to apply to ign-transport3 since the local workspace location is assumed in many separate scripts", "markup": "markdown", "html": "<p>that change would be much more complicated to apply to ign-transport3 since the local workspace location is assumed in many separate scripts</p>", "type": "rendered"}, "created_on": "2018-01-10T23:56:30.028841+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-10T23:56:30.032775+00:00", "type": "pullrequest_comment", "id": 53411252}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504/comments/53411221.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504/_/diff#comment-53411221"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}, "content": {"raw": "I was looking at the ign-transport3 problem with paths that are too long, which inspired a small change in e3bbc5e, but that actually won't help ign-transport3, since it doesn't use that script. I started another build to confirm that everything still works:\n\n* https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/535/\n\nI can revert it if people object", "markup": "markdown", "html": "<p>I was looking at the ign-transport3 problem with paths that are too long, which inspired a small change in <a href=\"#!/osrf/release-tools/commits/e3bbc5e\" rel=\"nofollow\" class=\"ap-connect-link\">e3bbc5e</a>, but that actually won't help ign-transport3, since it doesn't use that script. I started another build to confirm that everything still works:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/535/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/535/</a></li>\n</ul>\n<p>I can revert it if people object</p>", "type": "rendered"}, "created_on": "2018-01-10T23:55:46.048744+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-01-10T23:55:46.051602+00:00", "type": "pullrequest_comment", "id": 53411221}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e3bbc5eb5ae6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/e3bbc5eb5ae6.json"}, "html": {"href": "#!/osrf/release-tools/commits/e3bbc5eb5ae6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-10T23:53:31.640432+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) successful", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "18f14aee9bf6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/18f14aee9bf6.json"}, "html": {"href": "#!/osrf/release-tools/commits/18f14aee9bf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-10T23:47:09.079330+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) pending", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "18f14aee9bf6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/18f14aee9bf6.json"}, "html": {"href": "#!/osrf/release-tools/commits/18f14aee9bf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-10T23:38:09.196173+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}, {"update": {"description": "This adds a script to detect the major version of an ignition package by looking at its CMakeLists.txt, looking for a `set(PROJECT_MAJOR_VERSION \\d` first and if that doesn't match, then it searches for `project(ignition-[a-z\\-]*\\d` and uses that instead. I've tested it locally on a bunch of different ignition projects, and it seems to detect the correct major version in each case.\r\n\r\nI'm using that script to detect if ign-transport4+ is in use; so that a script compatible with ign-cmake can be used; otherwise it uses the old script.\r\n\r\nTesting:\r\n\r\n* [ign-transport3](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-ign-transport3-windows7-amd64/11/console) fails but for an unrelated reason (path name is too long)\r\n* [ign-transport4](https://build.osrfoundation.org/view/os_windows/job/ignition_transport-ci-pr_any-windows7-amd64/534/) pending", "title": "Support ign-transport with ign-cmake", "destination": {"commit": {"hash": "4c8a438efeaf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4c8a438efeaf.json"}, "html": {"href": "#!/osrf/release-tools/commits/4c8a438efeaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "18f14aee9bf6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/18f14aee9bf6.json"}, "html": {"href": "#!/osrf/release-tools/commits/18f14aee9bf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "win_transport_ign_cmake"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-01-10T23:38:09.135371+00:00"}, "pull_request": {"type": "pullrequest", "id": 504, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/504.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/504"}}, "title": "Support ign-transport with ign-cmake"}}]}