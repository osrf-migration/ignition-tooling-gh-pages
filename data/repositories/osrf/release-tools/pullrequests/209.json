{"rendered": {"description": {"raw": "## Summary\r\n\r\nThis PR adds a form of flaky test detection to the gazebo homebrew build (for gazebo7 and up, since older versions of gazebo have many failing tests) by re-running failed tests one time to see if they fail both times (issue #60). This makes use of the `--rerun-failed` argument to ctest, which requires cmake 3+. This is available on homebrew and vivid+ but not trusty by default.\r\n\r\nWhen re-running the failed tests, the `test_results` folder needs to be shuffled and the new junit files merged with the previous version using the `flaky_junit_merge.py` script from previous pull requests. The information about flaky tests can be visualized with the jenkins flaky test plugin, which is already installed in jenkins and is enabled in the dsl with this pull request. [Here's an example of a build with flaky test information](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/). Unfortunately it doesn't display anything on the It doesn't display anything on the\r\n[Test Results summary page](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/),\r\nbut if you click on\r\n[(root)](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/)\r\nit will show info about flaky tests.\r\nLook for a storm cloud to see tests that didn't pass perfectly.\r\n\r\nOne concern about the flaky test plugin is that I have observed some jenkins failures in the gazebo test builds with this branch:\r\n\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/\r\n\r\n~~~\r\nRecording test results\r\nERROR: Build step failed with exception\r\njava.lang.NullPointerException\r\n\tat java.io.File.<init>(File.java:277)\r\n\tat com.google.jenkins.flakyTestHandler.junit.FlakyTestResult.<init>(FlakyTestResult.java:120)\r\n~~~\r\n\r\nI rebooted the machine and am watching to see if this failure recurs.\r\n\r\n## Tests that fail to run\r\n\r\nThe `flaky_junit_merge.py` script was updated in pull request #214 to resolve #65.\r\n\r\nOne challenge with tests that fail to run is that `ctest --rerun-failed` won't re-run the `check_test_ran` script, so we wouldn't know if the test failed on the second try. There is a hack in  5aacd8d with `sed` and `grep` and a `make test` loop that is not pretty but is working.\r\n\r\nHere are some example builds that show flaky versions of `test_ran` from [ign-math branch flaky_rand_test](https://bitbucket.org/ignitionrobotics/ign-math/branches/compare/flaky_rand_test%0Dign-math2#diff):\r\n\r\n* In [run 62](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/62/testReport/%28root%29/RandTest/) and [run 63](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/), the test completes one time and asserts one time. Thus [test_ran](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/test_ran/) is marked as a flaky pass. Note also that `test_ran` is listed in the same `RandTest` grouping since a matching `classname` is added in the flaky case.\r\n\r\n* In [run 64](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/64/testReport/junit/%28root%29/Results/test_ran/), the test fails both times and is listed under the `Results` class as usual.\r\n\r\n", "markup": "markdown", "html": "<h2 id=\"markdown-header-summary\">Summary</h2>\n<p>This PR adds a form of flaky test detection to the gazebo homebrew build (for gazebo7 and up, since older versions of gazebo have many failing tests) by re-running failed tests one time to see if they fail both times (issue <a href=\"#!/osrf/release-tools/issues/60/repeat-failed-tests-to-identify-flaky-ones\" rel=\"nofollow\" title=\"Repeat failed tests to identify flaky ones?\" class=\"ap-connect-link\">#60</a>). This makes use of the <code>--rerun-failed</code> argument to ctest, which requires cmake 3+. This is available on homebrew and vivid+ but not trusty by default.</p>\n<p>When re-running the failed tests, the <code>test_results</code> folder needs to be shuffled and the new junit files merged with the previous version using the <code>flaky_junit_merge.py</code> script from previous pull requests. The information about flaky tests can be visualized with the jenkins flaky test plugin, which is already installed in jenkins and is enabled in the dsl with this pull request. <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/\" rel=\"nofollow\">Here's an example of a build with flaky test information</a>. Unfortunately it doesn't display anything on the It doesn't display anything on the\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/\" rel=\"nofollow\">Test Results summary page</a>,\nbut if you click on\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/\" rel=\"nofollow\">(root)</a>\nit will show info about flaky tests.\nLook for a storm cloud to see tests that didn't pass perfectly.</p>\n<p>One concern about the flaky test plugin is that I have observed some jenkins failures in the gazebo test builds with this branch:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>Recording test results\nERROR: Build step failed with exception\njava.lang.NullPointerException\n    at java.io.File.&lt;init&gt;(File.java:277)\n    at com.google.jenkins.flakyTestHandler.junit.FlakyTestResult.&lt;init&gt;(FlakyTestResult.java:120)\n</pre></div>\n\n\n<p>I rebooted the machine and am watching to see if this failure recurs.</p>\n<h2 id=\"markdown-header-tests-that-fail-to-run\">Tests that fail to run</h2>\n<p>The <code>flaky_junit_merge.py</code> script was updated in <a href=\"#!/osrf/release-tools/pull-requests/214/part-of-pull-request-209-merge-junit-files\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #214</a> to resolve <a href=\"#!/osrf/release-tools/issues/65/flaky_junit_merge-has-trouble-with-tests\" rel=\"nofollow\" title=\"flaky_junit_merge has trouble with tests that fail to run\" class=\"ap-connect-link\"><s>#65</s></a>.</p>\n<p>One challenge with tests that fail to run is that <code>ctest --rerun-failed</code> won't re-run the <code>check_test_ran</code> script, so we wouldn't know if the test failed on the second try. There is a hack in  <a href=\"#!/osrf/release-tools/commits/5aacd8d\" rel=\"nofollow\" class=\"ap-connect-link\">5aacd8d</a> with <code>sed</code> and <code>grep</code> and a <code>make test</code> loop that is not pretty but is working.</p>\n<p>Here are some example builds that show flaky versions of <code>test_ran</code> from <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-math/branches/compare/flaky_rand_test%0Dign-math2#diff\" rel=\"nofollow\">ign-math branch flaky_rand_test</a>:</p>\n<ul>\n<li>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/62/testReport/%28root%29/RandTest/\" rel=\"nofollow\">run 62</a> and <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/\" rel=\"nofollow\">run 63</a>, the test completes one time and asserts one time. Thus <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/test_ran/\" rel=\"nofollow\">test_ran</a> is marked as a flaky pass. Note also that <code>test_ran</code> is listed in the same <code>RandTest</code> grouping since a matching <code>classname</code> is added in the flaky case.</p>\n</li>\n<li>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/64/testReport/junit/%28root%29/Results/test_ran/\" rel=\"nofollow\">run 64</a>, the test fails both times and is listed under the <code>Results</code> class as usual.</p>\n</li>\n</ul>", "type": "rendered"}, "title": {"raw": "Rerun failed tests in gazebo homebrew (#60, #65)", "markup": "markdown", "html": "<p>Rerun failed tests in gazebo homebrew (<a href=\"#!/osrf/release-tools/issues/60/repeat-failed-tests-to-identify-flaky-ones\" rel=\"nofollow\" title=\"Repeat failed tests to identify flaky ones?\" class=\"ap-connect-link\">#60</a>, <a href=\"#!/osrf/release-tools/issues/65/flaky_junit_merge-has-trouble-with-tests\" rel=\"nofollow\" title=\"flaky_junit_merge has trouble with tests that fail to run\" class=\"ap-connect-link\"><s>#65</s></a>)</p>", "type": "rendered"}}, "type": "pullrequest", "description": "## Summary\r\n\r\nThis PR adds a form of flaky test detection to the gazebo homebrew build (for gazebo7 and up, since older versions of gazebo have many failing tests) by re-running failed tests one time to see if they fail both times (issue #60). This makes use of the `--rerun-failed` argument to ctest, which requires cmake 3+. This is available on homebrew and vivid+ but not trusty by default.\r\n\r\nWhen re-running the failed tests, the `test_results` folder needs to be shuffled and the new junit files merged with the previous version using the `flaky_junit_merge.py` script from previous pull requests. The information about flaky tests can be visualized with the jenkins flaky test plugin, which is already installed in jenkins and is enabled in the dsl with this pull request. [Here's an example of a build with flaky test information](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/). Unfortunately it doesn't display anything on the It doesn't display anything on the\r\n[Test Results summary page](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/),\r\nbut if you click on\r\n[(root)](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/)\r\nit will show info about flaky tests.\r\nLook for a storm cloud to see tests that didn't pass perfectly.\r\n\r\nOne concern about the flaky test plugin is that I have observed some jenkins failures in the gazebo test builds with this branch:\r\n\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/\r\n\r\n~~~\r\nRecording test results\r\nERROR: Build step failed with exception\r\njava.lang.NullPointerException\r\n\tat java.io.File.<init>(File.java:277)\r\n\tat com.google.jenkins.flakyTestHandler.junit.FlakyTestResult.<init>(FlakyTestResult.java:120)\r\n~~~\r\n\r\nI rebooted the machine and am watching to see if this failure recurs.\r\n\r\n## Tests that fail to run\r\n\r\nThe `flaky_junit_merge.py` script was updated in pull request #214 to resolve #65.\r\n\r\nOne challenge with tests that fail to run is that `ctest --rerun-failed` won't re-run the `check_test_ran` script, so we wouldn't know if the test failed on the second try. There is a hack in  5aacd8d with `sed` and `grep` and a `make test` loop that is not pretty but is working.\r\n\r\nHere are some example builds that show flaky versions of `test_ran` from [ign-math branch flaky_rand_test](https://bitbucket.org/ignitionrobotics/ign-math/branches/compare/flaky_rand_test%0Dign-math2#diff):\r\n\r\n* In [run 62](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/62/testReport/%28root%29/RandTest/) and [run 63](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/), the test completes one time and asserts one time. Thus [test_ran](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/test_ran/) is marked as a flaky pass. Note also that `test_ran` is listed in the same `RandTest` grouping since a matching `classname` is added in the flaky case.\r\n\r\n* In [run 64](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/64/testReport/junit/%28root%29/Results/test_ran/), the test fails both times and is listed under the `Results` class as usual.\r\n\r\n", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/209/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diffstat/osrf/release-tools:b02bf4e83ee5%0Db0ea1cb86a84?from_pullrequest_id=209"}, "commits": {"href": "data/repositories/osrf/release-tools/pullrequests/209/commits.json"}, "self": {"href": "data/repositories/osrf/release-tools/pullrequests/209.json"}, "comments": {"href": "data/repositories/osrf/release-tools/pullrequests/209/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/209/merge"}, "html": {"href": "#!/osrf/release-tools/pull-requests/209"}, "activity": {"href": "data/repositories/osrf/release-tools/pullrequests/209/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diff/osrf/release-tools:b02bf4e83ee5%0Db0ea1cb86a84?from_pullrequest_id=209"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/209/approve"}, "statuses": {"href": "data/repositories/osrf/release-tools/pullrequests/209/statuses_page=1.json"}}, "title": "Rerun failed tests in gazebo homebrew (#60, #65)", "close_source_branch": true, "reviewers": [], "id": 209, "destination": {"commit": {"hash": "b0ea1cb86a84", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b0ea1cb86a84.json"}, "html": {"href": "#!/osrf/release-tools/commits/b0ea1cb86a84"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "created_on": "2016-03-31T18:40:09.092187+00:00", "summary": {"raw": "## Summary\r\n\r\nThis PR adds a form of flaky test detection to the gazebo homebrew build (for gazebo7 and up, since older versions of gazebo have many failing tests) by re-running failed tests one time to see if they fail both times (issue #60). This makes use of the `--rerun-failed` argument to ctest, which requires cmake 3+. This is available on homebrew and vivid+ but not trusty by default.\r\n\r\nWhen re-running the failed tests, the `test_results` folder needs to be shuffled and the new junit files merged with the previous version using the `flaky_junit_merge.py` script from previous pull requests. The information about flaky tests can be visualized with the jenkins flaky test plugin, which is already installed in jenkins and is enabled in the dsl with this pull request. [Here's an example of a build with flaky test information](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/). Unfortunately it doesn't display anything on the It doesn't display anything on the\r\n[Test Results summary page](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/),\r\nbut if you click on\r\n[(root)](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/)\r\nit will show info about flaky tests.\r\nLook for a storm cloud to see tests that didn't pass perfectly.\r\n\r\nOne concern about the flaky test plugin is that I have observed some jenkins failures in the gazebo test builds with this branch:\r\n\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/\r\n* http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/\r\n\r\n~~~\r\nRecording test results\r\nERROR: Build step failed with exception\r\njava.lang.NullPointerException\r\n\tat java.io.File.<init>(File.java:277)\r\n\tat com.google.jenkins.flakyTestHandler.junit.FlakyTestResult.<init>(FlakyTestResult.java:120)\r\n~~~\r\n\r\nI rebooted the machine and am watching to see if this failure recurs.\r\n\r\n## Tests that fail to run\r\n\r\nThe `flaky_junit_merge.py` script was updated in pull request #214 to resolve #65.\r\n\r\nOne challenge with tests that fail to run is that `ctest --rerun-failed` won't re-run the `check_test_ran` script, so we wouldn't know if the test failed on the second try. There is a hack in  5aacd8d with `sed` and `grep` and a `make test` loop that is not pretty but is working.\r\n\r\nHere are some example builds that show flaky versions of `test_ran` from [ign-math branch flaky_rand_test](https://bitbucket.org/ignitionrobotics/ign-math/branches/compare/flaky_rand_test%0Dign-math2#diff):\r\n\r\n* In [run 62](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/62/testReport/%28root%29/RandTest/) and [run 63](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/), the test completes one time and asserts one time. Thus [test_ran](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/test_ran/) is marked as a flaky pass. Note also that `test_ran` is listed in the same `RandTest` grouping since a matching `classname` is added in the flaky case.\r\n\r\n* In [run 64](http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/64/testReport/junit/%28root%29/Results/test_ran/), the test fails both times and is listed under the `Results` class as usual.\r\n\r\n", "markup": "markdown", "html": "<h2 id=\"markdown-header-summary\">Summary</h2>\n<p>This PR adds a form of flaky test detection to the gazebo homebrew build (for gazebo7 and up, since older versions of gazebo have many failing tests) by re-running failed tests one time to see if they fail both times (issue <a href=\"#!/osrf/release-tools/issues/60/repeat-failed-tests-to-identify-flaky-ones\" rel=\"nofollow\" title=\"Repeat failed tests to identify flaky ones?\" class=\"ap-connect-link\">#60</a>). This makes use of the <code>--rerun-failed</code> argument to ctest, which requires cmake 3+. This is available on homebrew and vivid+ but not trusty by default.</p>\n<p>When re-running the failed tests, the <code>test_results</code> folder needs to be shuffled and the new junit files merged with the previous version using the <code>flaky_junit_merge.py</code> script from previous pull requests. The information about flaky tests can be visualized with the jenkins flaky test plugin, which is already installed in jenkins and is enabled in the dsl with this pull request. <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/\" rel=\"nofollow\">Here's an example of a build with flaky test information</a>. Unfortunately it doesn't display anything on the It doesn't display anything on the\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/\" rel=\"nofollow\">Test Results summary page</a>,\nbut if you click on\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/45/testReport/%28root%29/\" rel=\"nofollow\">(root)</a>\nit will show info about flaky tests.\nLook for a storm cloud to see tests that didn't pass perfectly.</p>\n<p>One concern about the flaky test plugin is that I have observed some jenkins failures in the gazebo test builds with this branch:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/282/</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64/284/</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>Recording test results\nERROR: Build step failed with exception\njava.lang.NullPointerException\n    at java.io.File.&lt;init&gt;(File.java:277)\n    at com.google.jenkins.flakyTestHandler.junit.FlakyTestResult.&lt;init&gt;(FlakyTestResult.java:120)\n</pre></div>\n\n\n<p>I rebooted the machine and am watching to see if this failure recurs.</p>\n<h2 id=\"markdown-header-tests-that-fail-to-run\">Tests that fail to run</h2>\n<p>The <code>flaky_junit_merge.py</code> script was updated in <a href=\"#!/osrf/release-tools/pull-requests/214/part-of-pull-request-209-merge-junit-files\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #214</a> to resolve <a href=\"#!/osrf/release-tools/issues/65/flaky_junit_merge-has-trouble-with-tests\" rel=\"nofollow\" title=\"flaky_junit_merge has trouble with tests that fail to run\" class=\"ap-connect-link\"><s>#65</s></a>.</p>\n<p>One challenge with tests that fail to run is that <code>ctest --rerun-failed</code> won't re-run the <code>check_test_ran</code> script, so we wouldn't know if the test failed on the second try. There is a hack in  <a href=\"#!/osrf/release-tools/commits/5aacd8d\" rel=\"nofollow\" class=\"ap-connect-link\">5aacd8d</a> with <code>sed</code> and <code>grep</code> and a <code>make test</code> loop that is not pretty but is working.</p>\n<p>Here are some example builds that show flaky versions of <code>test_ran</code> from <a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-math/branches/compare/flaky_rand_test%0Dign-math2#diff\" rel=\"nofollow\">ign-math branch flaky_rand_test</a>:</p>\n<ul>\n<li>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/62/testReport/%28root%29/RandTest/\" rel=\"nofollow\">run 62</a> and <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/\" rel=\"nofollow\">run 63</a>, the test completes one time and asserts one time. Thus <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/63/testReport/%28root%29/RandTest/test_ran/\" rel=\"nofollow\">test_ran</a> is marked as a flaky pass. Note also that <code>test_ran</code> is listed in the same <code>RandTest</code> grouping since a matching <code>classname</code> is added in the flaky case.</p>\n</li>\n<li>\n<p>In <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/CI%20any%20jobs/job/ignition_math-ci-pr_any-homebrew-amd64/64/testReport/junit/%28root%29/Results/test_ran/\" rel=\"nofollow\">run 64</a>, the test fails both times and is listed under the <code>Results</code> class as usual.</p>\n</li>\n</ul>", "type": "rendered"}, "source": {"commit": {"hash": "c70f616d8fb7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/c70f616d8fb7.json"}, "html": {"href": "#!/osrf/release-tools/commits/c70f616d8fb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "flaky"}}, "comment_count": 24, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2016-04-13T00:24:07.300057+00:00", "type": "participant", "approved": true, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, {"role": "PARTICIPANT", "participated_on": "2016-04-12T17:51:44.015107+00:00", "type": "participant", "approved": false, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}], "reason": "", "updated_on": "2016-04-13T00:24:15.079270+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "b02bf4e83ee5", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b02bf4e83ee5.json"}, "html": {"href": "#!/osrf/release-tools/commits/b02bf4e83ee5"}}}, "closed_by": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}