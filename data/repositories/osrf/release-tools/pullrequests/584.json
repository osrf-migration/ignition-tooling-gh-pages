{"rendered": {"description": {"raw": "Lots of builds have been failing on optimus recently due to a lack of disk space even though we have logic to clean out old docker stuff when disk space gets too low. Something changed and the script is not working. For example:\r\n\r\nfrom [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64&build=352)](https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/) https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\r\n\r\n~~~\r\n+++ docker_mount_point=/var/lib/docker\r\n~~~\r\n\r\nThe docker mount point is really `/` but for some reason it's not finding that. So the later grep statements are failing. So instead of selecting the 6th entry (`awk '{ print $6 }'`), we select the device in the 1st entry (`awk '{ print $1 }'`). I think this is more reliable.\r\n\r\ntesting:\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64&build=431)](https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/) https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/", "markup": "markdown", "html": "<p>Lots of builds have been failing on optimus recently due to a lack of disk space even though we have logic to clean out old docker stuff when disk space gets too low. Something changed and the script is not working. For example:</p>\n<p>from <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64&amp;build=352\" /></a> <a href=\"https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/</a></p>\n<div class=\"codehilite\"><pre><span></span>+++ docker_mount_point=/var/lib/docker\n</pre></div>\n\n\n<p>The docker mount point is really <code>/</code> but for some reason it's not finding that. So the later grep statements are failing. So instead of selecting the 6th entry (<code>awk '{ print $6 }'</code>), we select the device in the 1st entry (<code>awk '{ print $1 }'</code>). I think this is more reliable.</p>\n<p>testing:</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64&amp;build=431\" /></a> <a href=\"https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/</a></p>", "type": "rendered"}, "title": {"raw": "Fix checking for free space when cleaning docker stuff", "markup": "markdown", "html": "<p>Fix checking for free space when cleaning docker stuff</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Lots of builds have been failing on optimus recently due to a lack of disk space even though we have logic to clean out old docker stuff when disk space gets too low. Something changed and the script is not working. For example:\r\n\r\nfrom [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64&build=352)](https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/) https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\r\n\r\n~~~\r\n+++ docker_mount_point=/var/lib/docker\r\n~~~\r\n\r\nThe docker mount point is really `/` but for some reason it's not finding that. So the later grep statements are failing. So instead of selecting the 6th entry (`awk '{ print $6 }'`), we select the device in the 1st entry (`awk '{ print $1 }'`). I think this is more reliable.\r\n\r\ntesting:\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64&build=431)](https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/) https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/584/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diffstat/osrf/release-tools:a7cc4acfd319%0D8e7b6785a55c?from_pullrequest_id=584"}, "commits": {"href": "data/repositories/osrf/release-tools/pullrequests/584/commits.json"}, "self": {"href": "data/repositories/osrf/release-tools/pullrequests/584.json"}, "comments": {"href": "data/repositories/osrf/release-tools/pullrequests/584/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/584/merge"}, "html": {"href": "#!/osrf/release-tools/pull-requests/584"}, "activity": {"href": "data/repositories/osrf/release-tools/pullrequests/584/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diff/osrf/release-tools:a7cc4acfd319%0D8e7b6785a55c?from_pullrequest_id=584"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/584/approve"}, "statuses": {"href": "data/repositories/osrf/release-tools/pullrequests/584/statuses_page=1.json"}}, "title": "Fix checking for free space when cleaning docker stuff", "close_source_branch": true, "reviewers": [], "id": 584, "destination": {"commit": {"hash": "8e7b6785a55c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/8e7b6785a55c.json"}, "html": {"href": "#!/osrf/release-tools/commits/8e7b6785a55c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "created_on": "2018-05-12T21:14:33.118234+00:00", "summary": {"raw": "Lots of builds have been failing on optimus recently due to a lack of disk space even though we have logic to clean out old docker stuff when disk space gets too low. Something changed and the script is not working. For example:\r\n\r\nfrom [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64&build=352)](https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/) https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\r\n\r\n~~~\r\n+++ docker_mount_point=/var/lib/docker\r\n~~~\r\n\r\nThe docker mount point is really `/` but for some reason it's not finding that. So the later grep statements are failing. So instead of selecting the 6th entry (`awk '{ print $6 }'`), we select the device in the 1st entry (`awk '{ print $1 }'`). I think this is more reliable.\r\n\r\ntesting:\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64&build=431)](https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/) https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/", "markup": "markdown", "html": "<p>Lots of builds have been failing on optimus recently due to a lack of disk space even though we have logic to clean out old docker stuff when disk space gets too low. Something changed and the script is not working. For example:</p>\n<p>from <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64&amp;build=352\" /></a> <a href=\"https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ros_gazebo_pkgs-install_pkg_kinetic-xenial-amd64/352/</a></p>\n<div class=\"codehilite\"><pre><span></span>+++ docker_mount_point=/var/lib/docker\n</pre></div>\n\n\n<p>The docker mount point is really <code>/</code> but for some reason it's not finding that. So the later grep statements are failing. So instead of selecting the 6th entry (<code>awk '{ print $6 }'</code>), we select the device in the 1st entry (<code>awk '{ print $1 }'</code>). I think this is more reliable.</p>\n<p>testing:</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64&amp;build=431\" /></a> <a href=\"https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ros_gazebo8_pkgs-install_pkg_kinetic-xenial-amd64/431/</a></p>", "type": "rendered"}, "source": {"commit": {"hash": "6a6bcf29a4fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/6a6bcf29a4fc.json"}, "html": {"href": "#!/osrf/release-tools/commits/6a6bcf29a4fc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "docker_gc_device"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-05-14T14:38:24.658570+00:00", "type": "participant", "approved": true, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}], "reason": "", "updated_on": "2018-05-14T14:45:54.374749+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "a7cc4acfd319", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a7cc4acfd319.json"}, "html": {"href": "#!/osrf/release-tools/commits/a7cc4acfd319"}}}, "closed_by": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}