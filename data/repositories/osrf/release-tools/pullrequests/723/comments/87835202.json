{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/723/comments/87835202.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/723/_/diff#comment-87835202"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 723, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/723.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/723"}}, "title": "docker_generate_dockerfile.bash: run apt-get upgrade"}, "content": {"raw": "This may cause performance problems, but I have seen builds fail that pass after invalidating the cache:\n\nThis gazebo build was run after the recent dart 6.7 release. The build script only upgrades `libdart6-utils-urdf-dev`, while `libdart6-dev` is still the old version, which causes configuration to fail.\n\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-xenial-amd64-gpu-none&build=372)](https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/372/) https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/372/\n\nI reran the build with an invalidated cache, and it succeeded:\n\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-xenial-amd64-gpu-none&build=373)](https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/373/) https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/373/\n\nI suppose an alternative is to list more dart6 packages in the dependency list?", "markup": "markdown", "html": "<p>This may cause performance problems, but I have seen builds fail that pass after invalidating the cache:</p>\n<p>This gazebo build was run after the recent dart 6.7 release. The build script only upgrades <code>libdart6-utils-urdf-dev</code>, while <code>libdart6-dev</code> is still the old version, which causes configuration to fail.</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/372/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-xenial-amd64-gpu-none&amp;build=372\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/372/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/372/</a></li>\n</ul>\n<p>I reran the build with an invalidated cache, and it succeeded:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/373/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-default-xenial-amd64-gpu-none&amp;build=373\" /></a> <a href=\"https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/373/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/gazebo-ci-default-xenial-amd64-gpu-none/373/</a></li>\n</ul>\n<p>I suppose an alternative is to list more dart6 packages in the dependency list?</p>", "type": "rendered"}, "created_on": "2019-01-11T18:28:37.562335+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-01-11T18:28:37.570794+00:00", "type": "pullrequest_comment", "id": 87835202}