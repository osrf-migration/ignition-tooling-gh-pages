{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430670.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430670"}}, "parent": {"id": 2429152, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2429152.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2429152"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "Now that this is merged, I reverted this job to the default branch of release-tools:\n\nhttp://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/", "markup": "markdown", "html": "<p>Now that this is merged, I reverted this job to the default branch of release-tools:</p>\n<p><a href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/</a></p>", "type": "rendered"}, "created_on": "2014-07-16T23:20:21.231040+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-16T23:20:21.240320+00:00", "type": "pullrequest_comment", "id": 2430670}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"update": {"description": "", "title": "Use sdformat prerelease until 2.0.1 is released", "destination": {"commit": {"hash": "a40aab45ffe0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a40aab45ffe0.json"}, "html": {"href": "#!/osrf/release-tools/commits/a40aab45ffe0"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "84849d3ba632", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/84849d3ba632.json"}, "html": {"href": "#!/osrf/release-tools/commits/84849d3ba632"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "sdformat_prerelease"}}, "state": "MERGED", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2014-07-16T23:12:14.760284+00:00"}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430624.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430624"}}, "parent": {"id": 2430610, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430610.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430610"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "thanks Steve, perfect.", "markup": "markdown", "html": "<p>thanks Steve, perfect.</p>", "type": "rendered"}, "created_on": "2014-07-16T23:12:07.826176+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-07-16T23:12:07.834223+00:00", "type": "pullrequest_comment", "id": 2430624}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"approval": {"date": "2014-07-16T23:11:49.035943+00:00", "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430610.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430610"}}, "parent": {"id": 2430493, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430493.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430493"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "see 84849d3ba632", "markup": "markdown", "html": "<p>see <a href=\"#!/osrf/release-tools/commits/84849d3ba632\" rel=\"nofollow\" class=\"ap-connect-link\">84849d3ba632</a></p>", "type": "rendered"}, "created_on": "2014-07-16T23:09:18.211975+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-16T23:09:18.219684+00:00", "type": "pullrequest_comment", "id": 2430610}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"update": {"description": "", "title": "Use sdformat prerelease until 2.0.1 is released", "destination": {"commit": {"hash": "4a2a7ed9f3d7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4a2a7ed9f3d7.json"}, "html": {"href": "#!/osrf/release-tools/commits/4a2a7ed9f3d7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "84849d3ba632", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/84849d3ba632.json"}, "html": {"href": "#!/osrf/release-tools/commits/84849d3ba632"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "sdformat_prerelease"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-07-16T23:08:35.610145+00:00"}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430550.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430550"}}, "parent": {"id": 2430520, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430520.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430520"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "eeeeeek yes, sorry, I will go for a coffee.", "markup": "markdown", "html": "<p>eeeeeek yes, sorry, I will go for a coffee.</p>", "type": "rendered"}, "created_on": "2014-07-16T22:57:26.198953+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-07-16T22:57:26.213187+00:00", "type": "pullrequest_comment", "id": 2430550}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430520.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430520"}}, "parent": {"id": 2430493, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430493.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430493"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "Should it be\n~~~\nif [[ `date +%y%m` -lt 1408 ]]\n~~~\nI like your idea of a self-destruct mechanism for the logic.", "markup": "markdown", "html": "<p>Should it be</p>\n<div class=\"codehilite\"><pre><span></span>if [[ `date +%y%m` -lt 1408 ]]\n</pre></div>\n\n\n<p>I like your idea of a self-destruct mechanism for the logic.</p>", "type": "rendered"}, "created_on": "2014-07-16T22:53:10.989104+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-16T22:53:45.764960+00:00", "type": "pullrequest_comment", "id": 2430520}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430493.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430493"}}, "parent": {"id": 2430375, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430375.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430375"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "right, is not valid at that point. another try using the date ...\n\n```\n#!bash\n\nif ${USE_OLD_SDFORMAT}; then\n    sdformat_pkg=\"sdformat\"\nelse\n    sdformat_pkg=\"libsdformat2-dev\"\n    # Remove after releasing sdformat 2.0.1. It will stop using prerelease from Aug 2014\n    if [[ `date +%y%m` -gt 1407 ]]; then\n    sdformat_pkg=\"libsdformat2-dev-prerelease\"\n    fi\nfi\n```\nsounds reasonable?", "markup": "markdown", "html": "<p>right, is not valid at that point. another try using the date ...</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"k\">if</span> <span class=\"si\">${</span><span class=\"nv\">USE_OLD_SDFORMAT</span><span class=\"si\">}</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;sdformat&quot;</span>\n<span class=\"k\">else</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;libsdformat2-dev&quot;</span>\n    <span class=\"c1\"># Remove after releasing sdformat 2.0.1. It will stop using prerelease from Aug 2014</span>\n    <span class=\"k\">if</span> <span class=\"o\">[[</span> <span class=\"sb\">`</span>date +%y%m<span class=\"sb\">`</span> -gt <span class=\"m\">1407</span> <span class=\"o\">]]</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;libsdformat2-dev-prerelease&quot;</span>\n    <span class=\"k\">fi</span>\n<span class=\"k\">fi</span>\n</pre></div>\n\n\n<p>sounds reasonable?</p>", "type": "rendered"}, "created_on": "2014-07-16T22:49:04.281254+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-07-16T22:49:04.291016+00:00", "type": "pullrequest_comment", "id": 2430493}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430375.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430375"}}, "parent": {"id": 2430291, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430291.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430291"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "I think we would need to `apt-get update` before we run `apt-cache show`? Also, don't we need to make sure that `apt-key add` has been called? I think the order might be wrong; see [gazebo-base-default.bash](#!/osrf/release-tools/src/63d07bec67fccbaf4136c712eb32bde5ffe29a0d/jenkins-scripts/lib/gazebo-base-default.bash?at=default):\n~~~\n# line 14\n. ${SCRIPT_DIR}/lib/boilerplate_prepare.sh\n\n...\n\n# lines 24-25\nsh -c 'echo \"deb http://packages.osrfoundation.org/drc/ubuntu ${DISTRO} main\" > /etc/apt/sources.list.d/drc-latest.list'\nwget http://packages.osrfoundation.org/drc.key -O - | apt-key add -\n~~~", "markup": "markdown", "html": "<p>I think we would need to <code>apt-get update</code> before we run <code>apt-cache show</code>? Also, don't we need to make sure that <code>apt-key add</code> has been called? I think the order might be wrong; see <a data-is-external-link=\"true\" href=\"#!/osrf/release-tools/src/63d07bec67fccbaf4136c712eb32bde5ffe29a0d/jenkins-scripts/lib/gazebo-base-default.bash?at=default\" rel=\"nofollow\">gazebo-base-default.bash</a>:</p>\n<div class=\"codehilite\"><pre><span></span># line 14\n. <span class=\"cp\">${</span><span class=\"n\">SCRIPT_DIR</span><span class=\"cp\">}</span>/lib/boilerplate_prepare.sh\n\n...\n\n# lines 24-25\nsh -c &#39;echo &quot;deb http://packages.osrfoundation.org/drc/ubuntu <span class=\"cp\">${</span><span class=\"n\">DISTRO</span><span class=\"cp\">}</span> main&quot; &gt; /etc/apt/sources.list.d/drc-latest.list&#39;\nwget http://packages.osrfoundation.org/drc.key -O - | apt-key add -\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-16T22:36:16.200148+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-16T22:36:16.211284+00:00", "type": "pullrequest_comment", "id": 2430375}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2430291.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2430291"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "That would work, but we will probably forget to update it and it will continue working after the real release using the prerelease without any signal.\n\nWhat about something like?\n```\n#!bash\n\nif ${USE_OLD_SDFORMAT}; then\n    sdformat_pkg=\"sdformat\"\nelse\n    sdformat_pkg=\"libsdformat2-dev\"\n    sdf_version=$(apt-cache show sdformat | grep Version: | sed 's/Version: //g')\n    # Remove after releasing sdformat 2.0.1\n    if $(dpkg --compare-versions $sdf_version lt 2.0.1); then\n\tsdformat_pkg=\"libsdformat2-dev-prerelease\"\n    fi\nfi\n```", "markup": "markdown", "html": "<p>That would work, but we will probably forget to update it and it will continue working after the real release using the prerelease without any signal.</p>\n<p>What about something like?</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"k\">if</span> <span class=\"si\">${</span><span class=\"nv\">USE_OLD_SDFORMAT</span><span class=\"si\">}</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;sdformat&quot;</span>\n<span class=\"k\">else</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;libsdformat2-dev&quot;</span>\n    <span class=\"nv\">sdf_version</span><span class=\"o\">=</span><span class=\"k\">$(</span>apt-cache show sdformat <span class=\"p\">|</span> grep Version: <span class=\"p\">|</span> sed <span class=\"s1\">&#39;s/Version: //g&#39;</span><span class=\"k\">)</span>\n    <span class=\"c1\"># Remove after releasing sdformat 2.0.1</span>\n    <span class=\"k\">if</span> <span class=\"k\">$(</span>dpkg --compare-versions <span class=\"nv\">$sdf_version</span> lt <span class=\"m\">2</span>.0.1<span class=\"k\">)</span><span class=\"p\">;</span> <span class=\"k\">then</span>\n    <span class=\"nv\">sdformat_pkg</span><span class=\"o\">=</span><span class=\"s2\">&quot;libsdformat2-dev-prerelease&quot;</span>\n    <span class=\"k\">fi</span>\n<span class=\"k\">fi</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-16T22:24:43.709756+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-07-16T22:24:43.718555+00:00", "type": "pullrequest_comment", "id": 2430291}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49/comments/2429152.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49/_/diff#comment-2429152"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}, "content": {"raw": "As a test, I just updated the following job to use this branch:\n\nhttp://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/", "markup": "markdown", "html": "<p>As a test, I just updated the following job to use this branch:</p>\n<p><a href=\"http://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/gazebo/job/gazebo-default-devel-trusty-amd64-gpu-nvidia/</a></p>", "type": "rendered"}, "created_on": "2014-07-16T20:07:23.197507+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-16T20:07:23.206452+00:00", "type": "pullrequest_comment", "id": 2429152}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"update": {"description": "", "title": "Use sdformat prerelease until 2.0.1 is released", "destination": {"commit": {"hash": "63d07bec67fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/63d07bec67fc.json"}, "html": {"href": "#!/osrf/release-tools/commits/63d07bec67fc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ccca11f1d49b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/ccca11f1d49b.json"}, "html": {"href": "#!/osrf/release-tools/commits/ccca11f1d49b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "sdformat_prerelease"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-07-16T20:05:09.389662+00:00"}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}, {"update": {"description": "", "title": "Use sdformat prerelease until 2.0.1 is released", "destination": {"commit": {"hash": "63d07bec67fc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/63d07bec67fc.json"}, "html": {"href": "#!/osrf/release-tools/commits/63d07bec67fc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ccca11f1d49b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/ccca11f1d49b.json"}, "html": {"href": "#!/osrf/release-tools/commits/ccca11f1d49b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "sdformat_prerelease"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2014-07-16T20:05:09.205747+00:00"}, "pull_request": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/49.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/49"}}, "title": "Use sdformat prerelease until 2.0.1 is released"}}]}