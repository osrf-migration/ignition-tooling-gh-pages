{"rendered": {"description": {"raw": "After some digging around it seems like Gazebo does attempt to run in the container. But it's failing because there is no display output, and I guess no OpenGL context for Gazebo to launch in. The process terminates almost immediately so we can\u2019t check that Gazebo is running.\r\n\r\n> \\[Err\\] \\[RenderEngine.cc:725\\] Can't open display:\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:93\\] Unable to create X window. Rendering will be disabled\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:293\\] Cannot initialize render engine since render path type is NONE. Ignore this warning ifrendering has been turned off on purpose.\r\n>\r\n> \\[Err\\] \\[GuiIface.cc:121\\] QXcbConnection: Could not connect to display\r\n\r\nThis PR adds the following to the gzdev build script:\r\n\r\n* ~~Display gz8.log file to make container logs visible.~~\r\n* Install nvidia-docker\r\n\r\nIt won't fix the error shown above, but at least it will provide useful output and also allow us to test the call to `nvidia-docker` when the `--nivida` option is passed to gzdev.\r\n\r\n\u200c\r\n\r\nPerhaps installing and using Xvfb will do the trick with the rendering error shown above, but we can address this in a different PR.", "markup": "markdown", "html": "<p>After some digging around it seems like Gazebo does attempt to run in the container. But it's failing because there is no display output, and I guess no OpenGL context for Gazebo to launch in. The process terminates almost immediately so we can\u2019t check that Gazebo is running.</p>\n<blockquote>\n<p>[Err] [RenderEngine.cc:725] Can't open display:</p>\n<p>[Wrn] [RenderEngine.cc:93] Unable to create X window. Rendering will be disabled</p>\n<p>[Wrn] [RenderEngine.cc:293] Cannot initialize render engine since render path type is NONE. Ignore this warning ifrendering has been turned off on purpose.</p>\n<p>[Err] [GuiIface.cc:121] QXcbConnection: Could not connect to display</p>\n</blockquote>\n<p>This PR adds the following to the gzdev build script:</p>\n<ul>\n<li><del>Display gz8.log file to make container logs visible.</del></li>\n<li>Install nvidia-docker</li>\n</ul>\n<p>It won't fix the error shown above, but at least it will provide useful output and also allow us to test the call to <code>nvidia-docker</code> when the <code>--nivida</code> option is passed to gzdev.</p>\n<p>\u200c</p>\n<p>Perhaps installing and using Xvfb will do the trick with the rendering error shown above, but we can address this in a different PR.</p>", "type": "rendered"}, "title": {"raw": "Gzdev spawn CI debugging", "markup": "markdown", "html": "<p>Gzdev spawn CI debugging</p>", "type": "rendered"}}, "type": "pullrequest", "description": "After some digging around it seems like Gazebo does attempt to run in the container. But it's failing because there is no display output, and I guess no OpenGL context for Gazebo to launch in. The process terminates almost immediately so we can\u2019t check that Gazebo is running.\r\n\r\n> \\[Err\\] \\[RenderEngine.cc:725\\] Can't open display:\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:93\\] Unable to create X window. Rendering will be disabled\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:293\\] Cannot initialize render engine since render path type is NONE. Ignore this warning ifrendering has been turned off on purpose.\r\n>\r\n> \\[Err\\] \\[GuiIface.cc:121\\] QXcbConnection: Could not connect to display\r\n\r\nThis PR adds the following to the gzdev build script:\r\n\r\n* ~~Display gz8.log file to make container logs visible.~~\r\n* Install nvidia-docker\r\n\r\nIt won't fix the error shown above, but at least it will provide useful output and also allow us to test the call to `nvidia-docker` when the `--nivida` option is passed to gzdev.\r\n\r\n\u200c\r\n\r\nPerhaps installing and using Xvfb will do the trick with the rendering error shown above, but we can address this in a different PR.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/612/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diffstat/osrf/release-tools:43b7f75a92cf%0Db81bda24da18?from_pullrequest_id=612"}, "commits": {"href": "data/repositories/osrf/release-tools/pullrequests/612/commits.json"}, "self": {"href": "data/repositories/osrf/release-tools/pullrequests/612.json"}, "comments": {"href": "data/repositories/osrf/release-tools/pullrequests/612/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/612/merge"}, "html": {"href": "#!/osrf/release-tools/pull-requests/612"}, "activity": {"href": "data/repositories/osrf/release-tools/pullrequests/612/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diff/osrf/release-tools:43b7f75a92cf%0Db81bda24da18?from_pullrequest_id=612"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/612/approve"}, "statuses": {"href": "data/repositories/osrf/release-tools/pullrequests/612/statuses_page=1.json"}}, "title": "Gzdev spawn CI debugging", "close_source_branch": false, "reviewers": [{"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}], "id": 612, "destination": {"commit": {"hash": "b81bda24da18", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b81bda24da18.json"}, "html": {"href": "#!/osrf/release-tools/commits/b81bda24da18"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "gzdev"}}, "created_on": "2018-07-23T09:51:58.966150+00:00", "summary": {"raw": "After some digging around it seems like Gazebo does attempt to run in the container. But it's failing because there is no display output, and I guess no OpenGL context for Gazebo to launch in. The process terminates almost immediately so we can\u2019t check that Gazebo is running.\r\n\r\n> \\[Err\\] \\[RenderEngine.cc:725\\] Can't open display:\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:93\\] Unable to create X window. Rendering will be disabled\r\n>\r\n> \\[Wrn\\] \\[RenderEngine.cc:293\\] Cannot initialize render engine since render path type is NONE. Ignore this warning ifrendering has been turned off on purpose.\r\n>\r\n> \\[Err\\] \\[GuiIface.cc:121\\] QXcbConnection: Could not connect to display\r\n\r\nThis PR adds the following to the gzdev build script:\r\n\r\n* ~~Display gz8.log file to make container logs visible.~~\r\n* Install nvidia-docker\r\n\r\nIt won't fix the error shown above, but at least it will provide useful output and also allow us to test the call to `nvidia-docker` when the `--nivida` option is passed to gzdev.\r\n\r\n\u200c\r\n\r\nPerhaps installing and using Xvfb will do the trick with the rendering error shown above, but we can address this in a different PR.", "markup": "markdown", "html": "<p>After some digging around it seems like Gazebo does attempt to run in the container. But it's failing because there is no display output, and I guess no OpenGL context for Gazebo to launch in. The process terminates almost immediately so we can\u2019t check that Gazebo is running.</p>\n<blockquote>\n<p>[Err] [RenderEngine.cc:725] Can't open display:</p>\n<p>[Wrn] [RenderEngine.cc:93] Unable to create X window. Rendering will be disabled</p>\n<p>[Wrn] [RenderEngine.cc:293] Cannot initialize render engine since render path type is NONE. Ignore this warning ifrendering has been turned off on purpose.</p>\n<p>[Err] [GuiIface.cc:121] QXcbConnection: Could not connect to display</p>\n</blockquote>\n<p>This PR adds the following to the gzdev build script:</p>\n<ul>\n<li><del>Display gz8.log file to make container logs visible.</del></li>\n<li>Install nvidia-docker</li>\n</ul>\n<p>It won't fix the error shown above, but at least it will provide useful output and also allow us to test the call to <code>nvidia-docker</code> when the <code>--nivida</code> option is passed to gzdev.</p>\n<p>\u200c</p>\n<p>Perhaps installing and using Xvfb will do the trick with the rendering error shown above, but we can address this in a different PR.</p>", "type": "rendered"}, "source": {"commit": {"hash": "4e1e41b09bdf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rosatamsen/release-tools/commit/4e1e41b09bdf"}, "html": {"href": "https://bitbucket.org/rosatamsen/release-tools/commits/4e1e41b09bdf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rosatamsen/release-tools"}, "html": {"href": "https://bitbucket.org/rosatamsen/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{205f3e1a-c19c-4ff0-a146-b9fe8170e1f6}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "rosatamsen/release-tools", "uuid": "{205f3e1a-c19c-4ff0-a146-b9fe8170e1f6}"}, "branch": {"name": "gzdev-spawn-ci"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2018-07-23T19:50:45.965344+00:00", "type": "participant", "approved": true, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, {"role": "PARTICIPANT", "participated_on": "2018-07-23T09:52:09.950556+00:00", "type": "participant", "approved": true, "user": {"display_name": "David Rosa", "uuid": "{859e43bb-4188-4421-8e16-ae61376e66b8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B859e43bb-4188-4421-8e16-ae61376e66b8%7D"}, "html": {"href": "https://bitbucket.org/%7B859e43bb-4188-4421-8e16-ae61376e66b8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3b0bb2d37ddf3d0b6ff94fc1a4f100f5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDR-6.png"}}, "nickname": "David Rosa", "type": "user", "account_id": "557058:9aa9d37f-8b29-4485-b719-058f44e7a99c"}}], "reason": "", "updated_on": "2018-07-23T19:52:30.335430+00:00", "author": {"display_name": "David Rosa", "uuid": "{859e43bb-4188-4421-8e16-ae61376e66b8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B859e43bb-4188-4421-8e16-ae61376e66b8%7D"}, "html": {"href": "https://bitbucket.org/%7B859e43bb-4188-4421-8e16-ae61376e66b8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3b0bb2d37ddf3d0b6ff94fc1a4f100f5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDR-6.png"}}, "nickname": "David Rosa", "type": "user", "account_id": "557058:9aa9d37f-8b29-4485-b719-058f44e7a99c"}, "merge_commit": {"hash": "43b7f75a92cf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/43b7f75a92cf.json"}, "html": {"href": "#!/osrf/release-tools/commits/43b7f75a92cf"}}}, "closed_by": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}