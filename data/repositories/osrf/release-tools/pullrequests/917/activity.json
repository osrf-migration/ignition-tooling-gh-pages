{"pagelen": 50, "values": [{"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "34ebd3be6f2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/34ebd3be6f2a.json"}, "html": {"href": "#!/osrf/release-tools/commits/34ebd3be6f2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a11349feb51a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a11349feb51a.json"}, "html": {"href": "#!/osrf/release-tools/commits/a11349feb51a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-12-05T17:42:51.900492+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"approval": {"date": "2019-12-05T17:42:38.139240+00:00", "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127661286.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127661286"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "It has been working fine for physics, gazebo and launch. Good to go.", "markup": "markdown", "html": "<p>It has been working fine for physics, gazebo and launch. Good to go.</p>", "type": "rendered"}, "created_on": "2019-12-05T16:34:11.451959+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-12-05T16:34:11.460607+00:00", "type": "pullrequest_comment", "id": 127661286}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127661215.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127661215"}}, "parent": {"id": 127537754, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127537754.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127537754"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "that is right, added.", "markup": "markdown", "html": "<p>that is right, added.</p>", "type": "rendered"}, "created_on": "2019-12-05T16:33:45.774029+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-12-05T16:33:45.786609+00:00", "type": "pullrequest_comment", "id": 127661215}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "34ebd3be6f2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/34ebd3be6f2a.json"}, "html": {"href": "#!/osrf/release-tools/commits/34ebd3be6f2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a11349feb51a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a11349feb51a.json"}, "html": {"href": "#!/osrf/release-tools/commits/a11349feb51a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-05T16:33:45.013811+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127537963.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127537963"}}, "parent": {"id": 127537754, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127537754.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127537754"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "Besides that, I think the conversion of `ign-gazebo2-release` to `ign-gazebo3-release` worked perfectly! Thanks for the script!", "markup": "markdown", "html": "<p>Besides that, I think the conversion of <code>ign-gazebo2-release</code> to <code>ign-gazebo3-release</code> worked perfectly! Thanks for the script!</p>", "type": "rendered"}, "created_on": "2019-12-05T04:25:42.091827+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-12-05T04:25:42.100334+00:00", "type": "pullrequest_comment", "id": 127537963}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127537754.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127537754"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "I noticed the control files have `Vcs-Hg` - should that be `Vcs-Git`?", "markup": "markdown", "html": "<p>I noticed the control files have <code>Vcs-Hg</code> - should that be <code>Vcs-Git</code>?</p>", "type": "rendered"}, "created_on": "2019-12-05T04:22:30.980565+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-12-05T04:22:30.985915+00:00", "type": "pullrequest_comment", "id": 127537754}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "34ebd3be6f2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/34ebd3be6f2a.json"}, "html": {"href": "#!/osrf/release-tools/commits/34ebd3be6f2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7aef8b115789", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/7aef8b115789.json"}, "html": {"href": "#!/osrf/release-tools/commits/7aef8b115789"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T23:18:28.273290+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "34ebd3be6f2a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/34ebd3be6f2a.json"}, "html": {"href": "#!/osrf/release-tools/commits/34ebd3be6f2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fcc8af2be4f2", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/fcc8af2be4f2.json"}, "html": {"href": "#!/osrf/release-tools/commits/fcc8af2be4f2"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T22:53:22.836520+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127482548.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127482548"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "Successfully built packages: [https://build.osrfoundation.org/view/All/job/ign-fuel-tools4-debbuilder/3/](https://build.osrfoundation.org/view/All/job/ign-fuel-tools4-debbuilder/3/)", "markup": "markdown", "html": "<p>Successfully built packages: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/ign-fuel-tools4-debbuilder/3/\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/ign-fuel-tools4-debbuilder/3/</a></p>", "type": "rendered"}, "created_on": "2019-12-04T18:02:18.364026+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-12-04T18:02:18.370922+00:00", "type": "pullrequest_comment", "id": 127482548}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6f4516f0b34b", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/6f4516f0b34b.json"}, "html": {"href": "#!/osrf/release-tools/commits/6f4516f0b34b"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T18:00:13.616216+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "86d8ec244f11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/86d8ec244f11.json"}, "html": {"href": "#!/osrf/release-tools/commits/86d8ec244f11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T17:53:32.808229+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1f5c1a9b890f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/1f5c1a9b890f.json"}, "html": {"href": "#!/osrf/release-tools/commits/1f5c1a9b890f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T17:52:42.189059+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a29f0f36cfde", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a29f0f36cfde.json"}, "html": {"href": "#!/osrf/release-tools/commits/a29f0f36cfde"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T17:40:55.311909+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4aa92d15c29a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/4aa92d15c29a.json"}, "html": {"href": "#!/osrf/release-tools/commits/4aa92d15c29a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T17:13:24.769190+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "0a20cc3ccee7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/0a20cc3ccee7.json"}, "html": {"href": "#!/osrf/release-tools/commits/0a20cc3ccee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "98b1827763a1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/98b1827763a1.json"}, "html": {"href": "#!/osrf/release-tools/commits/98b1827763a1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-04T17:08:01.622583+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127235731.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127235731"}}, "parent": {"id": 127133286, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127133286.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127133286"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "fixed", "markup": "markdown", "html": "<p>fixed</p>", "type": "rendered"}, "created_on": "2019-12-03T13:53:26.614668+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {}, "updated_on": "2019-12-03T13:53:26.635376+00:00", "type": "pullrequest_comment", "id": 127235731}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127235718.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127235718"}}, "parent": {"id": 127133301, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127133301.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127133301"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "ouch, fixed", "markup": "markdown", "html": "<p>ouch, fixed</p>", "type": "rendered"}, "created_on": "2019-12-03T13:53:21.185018+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {}, "updated_on": "2019-12-03T13:53:21.195757+00:00", "type": "pullrequest_comment", "id": 127235718}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "f3f51135e713", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/f3f51135e713.json"}, "html": {"href": "#!/osrf/release-tools/commits/f3f51135e713"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d66bef2b1837", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/d66bef2b1837.json"}, "html": {"href": "#!/osrf/release-tools/commits/d66bef2b1837"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-03T13:49:53.541893+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127133301.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127133301"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "`bump_major` -> `bump_major_version`", "markup": "markdown", "html": "<p><code>bump_major</code> -&gt; <code>bump_major_version</code></p>", "type": "rendered"}, "created_on": "2019-12-03T00:15:26.736338+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-12-03T00:15:26.743517+00:00", "type": "pullrequest_comment", "id": 127133301}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917/comments/127133286.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917/_/diff#comment-127133286"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}, "content": {"raw": "`chanhelog_spawn` -> `bump_major_version`?", "markup": "markdown", "html": "<p><code>chanhelog_spawn</code> -&gt; <code>bump_major_version</code>?</p>", "type": "rendered"}, "created_on": "2019-12-03T00:15:11.915896+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-12-03T00:15:11.924824+00:00", "type": "pullrequest_comment", "id": 127133286}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "e593831e0f71", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/e593831e0f71.json"}, "html": {"href": "#!/osrf/release-tools/commits/e593831e0f71"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f9170efa60b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/f9170efa60b3.json"}, "html": {"href": "#!/osrf/release-tools/commits/f9170efa60b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-03T00:07:46.054707+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}, {"update": {"description": "Some black magic to automatically bump a -release repository to a new major version. Some operations and checks are automatically done. The output could show some FIXME warnings that need manual attention.\r\n\r\nI tested it on the copy of ign-fuel-tools3:\r\n\r\n[https://github.com/ignition-release/ign-fuel-tools4-release](https://github.com/ignition-release/ign-fuel-tools4-release) \r\n\r\nRun with:\r\n\r\n\u200c\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ ~/release-repo-scripts/bump_major_version.bash 3 4\r\nMoving -release info\r\n==============================\r\n - From: ignition-fuel-tools3\r\n - To  : ignition-fuel-tools4\r\n=============================\r\n\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3.install\r\n * Making unversioned file from ubuntu/debian/libignition-fuel-tools3-dev.install\r\n   - Move symlinks\r\n     - move ./bionic/debian/libignition-fuel-tools3-dev.install\r\n     - move ./debian/sid/debian/libignition-fuel-tools3-dev.install\r\n\r\n * Renaming install files\r\n\r\n * Update changelogs\r\n     ./bionic/debian/changelog\r\n     ./debian/stretch/debian/changelog\r\n     ./debian/sid/debian/changelog\r\n\r\n * Changing values in control file\r\n * Safety checks in control\r\n    ! FIXME: Breaks clause detected in control file ./ubuntu/debian/control\r\n    ! FIXME: Replaces clause detected in control file ./ubuntu/debian/control\r\n\r\n * Changing values in rules file\r\n\r\n * Safety checks in symlinks\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2.install\r\n    ! FIXME: Found broken link ./debian/stretch/debian/libignition-fuel-tools2-dev.install\r\n```\r\n\r\ngit status\r\n\r\n```\r\njrivero@nium ign-fuel-tools4-release $ (master) git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\trenamed:    bionic/debian/libignition-fuel-tools3-dev.install -> bionic/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    bionic/debian/libignition-fuel-tools3.install -> bionic/debian/libignition-fuel-tools4.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3-dev.install -> debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    debian/sid/debian/libignition-fuel-tools3.install -> debian/sid/debian/libignition-fuel-tools4.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3-dev.install -> ubuntu/debian/libignition-fuel-tools4-dev.install\r\n\trenamed:    ubuntu/debian/libignition-fuel-tools3.install -> ubuntu/debian/libignition-fuel-tools4.install\r\n\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   bionic/debian/changelog\r\n\tmodified:   bionic/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   bionic/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/sid/debian/changelog\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4-dev.install\r\n\tmodified:   debian/sid/debian/libignition-fuel-tools4.install\r\n\tmodified:   debian/stretch/debian/changelog\r\n\tmodified:   ubuntu/debian/control\r\n```\r\n\r\nNothing is committed.", "title": "Add script to create to bump -release repo metadata to a new major", "destination": {"commit": {"hash": "e593831e0f71", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/e593831e0f71.json"}, "html": {"href": "#!/osrf/release-tools/commits/e593831e0f71"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f9170efa60b3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/f9170efa60b3.json"}, "html": {"href": "#!/osrf/release-tools/commits/f9170efa60b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "bump_major_script"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2019-12-03T00:07:46.018805+00:00"}, "pull_request": {"type": "pullrequest", "id": 917, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/917.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/917"}}, "title": "Add script to create to bump -release repo metadata to a new major"}}]}