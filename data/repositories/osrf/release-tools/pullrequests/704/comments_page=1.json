{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86384290.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86384290"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "Thanks Sean for the patches. I\u2019ll upload the new zips tomorrow so we can test this changes \\+ gazebo patches on our Jenkins. I fully agree with updating the toolchain to msvc2017. It\u2019s going to be great to have the gazebo built successfully on Windows again. I\u2019ll comment here with the results.", "markup": "markdown", "html": "<p>Thanks Sean for the patches. I\u2019ll upload the new zips tomorrow so we can test this changes + gazebo patches on our Jenkins. I fully agree with updating the toolchain to msvc2017. It\u2019s going to be great to have the gazebo built successfully on Windows again. I\u2019ll comment here with the results.</p>", "type": "rendered"}, "created_on": "2018-12-20T23:22:28.238937+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-12-20T23:22:28.247068+00:00", "type": "pullrequest_comment", "id": 86384290}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86439064.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diff/seanyen-msft/release-tools:8c50183941b7..a0a2425c1144?path=jenkins-scripts%2Flib%2Fgazebo-base-windows.bat"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86439064"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "dlfcn, curl, protobuf and libzip seems like the script is now using an updated version of these packages but seems like we are missing the source of these new packages. Are they in bintray too?", "markup": "markdown", "html": "<p>dlfcn, curl, protobuf and libzip seems like the script is now using an updated version of these packages but seems like we are missing the source of these new packages. Are they in bintray too?</p>", "type": "rendered"}, "created_on": "2018-12-21T12:58:47.638771+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {"to": 23, "from": null, "path": "jenkins-scripts/lib/gazebo-base-windows.bat"}, "updated_on": "2018-12-21T12:58:47.653533+00:00", "type": "pullrequest_comment", "id": 86439064}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86460818.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86460818"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "They are coming from [http://gazebosim.org/distributions/win32/deps/](http://gazebosim.org/distributions/win32/deps/). \\(I updated the dependencies to be in sync with what the sdformat and ign-\\* projects use.\\)", "markup": "markdown", "html": "<p>They are coming from <a data-is-external-link=\"true\" href=\"http://gazebosim.org/distributions/win32/deps/\" rel=\"nofollow\">http://gazebosim.org/distributions/win32/deps/</a>. (I updated the dependencies to be in sync with what the sdformat and ign-* projects use.)</p>", "type": "rendered"}, "created_on": "2018-12-21T15:51:58.679192+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2018-12-21T15:51:58.755243+00:00", "type": "pullrequest_comment", "id": 86460818}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86461609.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86461609"}}, "parent": {"id": 86460818, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86460818.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86460818"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "My bad sorry,  I mixed the ones coming from [packages.osrfoundation.org](http://packages.osrfoundation.org) and the ones comes from [gazebosim.org](http://gazebosim.org). Sounds like a good moment to use just one place.", "markup": "markdown", "html": "<p>My bad sorry,  I mixed the ones coming from <a data-is-external-link=\"true\" href=\"http://packages.osrfoundation.org\" rel=\"nofollow\">packages.osrfoundation.org</a> and the ones comes from <a data-is-external-link=\"true\" href=\"http://gazebosim.org\" rel=\"nofollow\">gazebosim.org</a>. Sounds like a good moment to use just one place.</p>", "type": "rendered"}, "created_on": "2018-12-21T15:59:06.039183+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-12-21T15:59:06.053679+00:00", "type": "pullrequest_comment", "id": 86461609}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87275159.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87275159"}}, "parent": {"id": 86461609, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86461609.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86461609"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "we should move everything from packages.osrfoundation.org to gazebosim.org/distributions", "markup": "markdown", "html": "<p>we should move everything from packages.osrfoundation.org to <a href=\"http://gazebosim.org/distributions\" rel=\"nofollow\" class=\"ap-connect-link\">gazebosim.org/distributions</a></p>", "type": "rendered"}, "created_on": "2019-01-07T20:54:38.682448+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-01-07T20:54:38.693461+00:00", "type": "pullrequest_comment", "id": 87275159}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86678779.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86678779"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "Working on merging the different patches and solve some custom problems on our infra, hope to have the thing ready soon. Sean, out of curiosity, one question: I\u2019ve seen that you [are using chocolatey packages](https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2256) in the Azure log, are those packages publicly available somewhere? Another question related: for the next gazebo version we are migrating our CI system to stop using custom tarballs for external dependencies and use vcpkg. Would you recommend the use of chocolatey packages instead of vcpkg? Thanks.", "markup": "markdown", "html": "<p>Working on merging the different patches and solve some custom problems on our infra, hope to have the thing ready soon. Sean, out of curiosity, one question: I\u2019ve seen that you <a data-is-external-link=\"true\" href=\"https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2256\" rel=\"nofollow\">are using chocolatey packages</a> in the Azure log, are those packages publicly available somewhere? Another question related: for the next gazebo version we are migrating our CI system to stop using custom tarballs for external dependencies and use vcpkg. Would you recommend the use of chocolatey packages instead of vcpkg? Thanks.</p>", "type": "rendered"}, "created_on": "2018-12-27T15:20:48.782318+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-12-27T15:20:48.791680+00:00", "type": "pullrequest_comment", "id": 86678779}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86907102.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86907102"}}, "parent": {"id": 86678779, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/86678779.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-86678779"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "Sorry for the late reply and happy new year btw. That\u2019s the Chocolatey server we hosted for porting ROS on Windows \\([https://roswin.azurewebsites.net/](https://roswin.azurewebsites.net/)\\). Many binaries are built by using vcpkg, and they are getting updated in ad-hoc way. For Gazebo CI, I would recommend to keep using vcpkg if you already plan doing so.", "markup": "markdown", "html": "<p>Sorry for the late reply and happy new year btw. That\u2019s the Chocolatey server we hosted for porting ROS on Windows (<a data-is-external-link=\"true\" href=\"https://roswin.azurewebsites.net/\" rel=\"nofollow\">https://roswin.azurewebsites.net/</a>). Many binaries are built by using vcpkg, and they are getting updated in ad-hoc way. For Gazebo CI, I would recommend to keep using vcpkg if you already plan doing so.</p>", "type": "rendered"}, "created_on": "2019-01-02T19:03:32.235908+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2019-01-02T19:03:32.309831+00:00", "type": "pullrequest_comment", "id": 86907102}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87707599.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87707599"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "I tried to reproduce the build on our infrastructure but it is failing due to a qt compilation error. Not sure where the problem is, I made few changes over yours:\n\n* Imported this release-tools pull request [into a branch to use it in CI](#!/osrf/release-tools/compare/update_gazebo9_build%0Ddefault#chg-jenkins-scripts/lib/gazebo-base-windows.bat). Main changes to use only [gazebosim.org](http://gazebosim.org)/distributions\n* Imported your patches to gazebo [into a gazebo branch](https://bitbucket.org/osrf/gazebo/compare/gazebo9.5.0_seanyen-msft%0Dgazebo9#commits). Few [changes](https://bitbucket.org/osrf/gazebo/commits/b0111dee3d6e94c32e3edf521542771d9e14a0b3) to accommodate configure.bat to changes in dependency installation.\n\nThe [build is failing](https://build.osrfoundation.org/view/All/job/gazebo-ci-pr_any-windows7-amd64/2422/consoleFull#20769243306ea37b8d-a6d4-40ae-8431-d90c018842af) due to a problem with qt visibility macros. I'm suspecting that the error is in our infrastructure. To confirm this, @seanyen-msft could please try running you Azure CI with our repositories and branches `gazebo9.5.0_seanyen-msft`for gazebo and `update_gazebo9_build`for release-tools?\n\nHope to find the problem soon.", "markup": "markdown", "html": "<p>I tried to reproduce the build on our infrastructure but it is failing due to a qt compilation error. Not sure where the problem is, I made few changes over yours:</p>\n<ul>\n<li>Imported this release-tools pull request <a data-is-external-link=\"true\" href=\"#!/osrf/release-tools/compare/update_gazebo9_build%0Ddefault#chg-jenkins-scripts/lib/gazebo-base-windows.bat\" rel=\"nofollow\">into a branch to use it in CI</a>. Main changes to use only <a data-is-external-link=\"true\" href=\"http://gazebosim.org\" rel=\"nofollow\">gazebosim.org</a>/distributions</li>\n<li>Imported your patches to gazebo <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/compare/gazebo9.5.0_seanyen-msft%0Dgazebo9#commits\" rel=\"nofollow\">into a gazebo branch</a>. Few <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/commits/b0111dee3d6e94c32e3edf521542771d9e14a0b3\" rel=\"nofollow\">changes</a> to accommodate configure.bat to changes in dependency installation.</li>\n</ul>\n<p>The <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/gazebo-ci-pr_any-windows7-amd64/2422/consoleFull#20769243306ea37b8d-a6d4-40ae-8431-d90c018842af\" rel=\"nofollow\">build is failing</a> due to a problem with qt visibility macros. I'm suspecting that the error is in our infrastructure. To confirm this, @seanyen-msft could please try running you Azure CI with our repositories and branches <code>gazebo9.5.0_seanyen-msft</code>for gazebo and <code>update_gazebo9_build</code>for release-tools?</p>\n<p>Hope to find the problem soon.</p>", "type": "rendered"}, "created_on": "2019-01-10T19:48:48.748956+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-01-10T19:48:48.818843+00:00", "type": "pullrequest_comment", "id": 87707599}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87708330.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87708330"}}, "parent": {"id": 87707599, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87707599.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87707599"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "I added a new build job \u201cOSRF\\_integration\u201d and now it is building. Stay tuned\u2026 [https://ros-win.visualstudio.com/ros-win/\\_build/results?buildId=2564](https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2564)", "markup": "markdown", "html": "<p>I added a new build job \u201cOSRF_integration\u201d and now it is building. Stay tuned\u2026 <a data-is-external-link=\"true\" href=\"https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2564\" rel=\"nofollow\">https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2564</a></p>", "type": "rendered"}, "created_on": "2019-01-10T19:56:06.504513+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2019-01-10T19:56:06.575994+00:00", "type": "pullrequest_comment", "id": 87708330}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87717817.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87717817"}}, "parent": {"id": 87707599, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87707599.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87707599"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "@_jrivero_ I tried to spin an Azure CI build and it seems failing at getting FreeImage from [https://s3.amazonaws.com/osrf-distributions/win32/deps/FreeImage-3.18.0.zip](https://s3.amazonaws.com/osrf-distributions/win32/deps/FreeImage-3.18.0.zip). Compared to your log, it seems Gazebo buildfarm is using vcpkg instead. I guessed there is some misalignment between the CI environment. Just wondering what setup I need to make the build script to use vcpkg for FreeImage?  \n  \nJFYI, you can check out [https://github.com/seanyen-msft/gazebo\\_build/blob/master/azure-pipelines.yml](https://github.com/seanyen-msft/gazebo_build/blob/master/azure-pipelines.yml) \\(`OSRF_integration`  job section\\) to see how I mimic what Gazebo buildfarm does.", "markup": "markdown", "html": "<p>@<em>jrivero</em> I tried to spin an Azure CI build and it seems failing at getting FreeImage from <a data-is-external-link=\"true\" href=\"https://s3.amazonaws.com/osrf-distributions/win32/deps/FreeImage-3.18.0.zip\" rel=\"nofollow\">https://s3.amazonaws.com/osrf-distributions/win32/deps/FreeImage-3.18.0.zip</a>. Compared to your log, it seems Gazebo buildfarm is using vcpkg instead. I guessed there is some misalignment between the CI environment. Just wondering what setup I need to make the build script to use vcpkg for FreeImage?  </p>\n<p>JFYI, you can check out <a data-is-external-link=\"true\" href=\"https://github.com/seanyen-msft/gazebo_build/blob/master/azure-pipelines.yml\" rel=\"nofollow\">https://github.com/seanyen-msft/gazebo_build/blob/master/azure-pipelines.yml</a> (<code>OSRF_integration</code>  job section) to see how I mimic what Gazebo buildfarm does.</p>", "type": "rendered"}, "created_on": "2019-01-10T21:43:00.777513+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2019-01-10T21:44:50.353095+00:00", "type": "pullrequest_comment", "id": 87717817}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87718880.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87718880"}}, "parent": {"id": 87717817, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87717817.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87717817"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "Thanks Sean. I've fixed the mechanism to remove packages from vcpkg before the build by adding `--recurse` and I think that I was able to reproduce your error here: [https://build.osrfoundation.org/job/gazebo-ci-pr\\_any-windows7-amd64/2424/consoleFull](https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2424/consoleFull) . My current hypothesis is that although the CMakeCache.txt displays that it is using qt from tarballs the existence of qt5 vcpkg headers could have been interacting. Working now on validating this idea after solving the freeimage problem. I will comment as soon as I get the info,.", "markup": "markdown", "html": "<p>Thanks Sean. I've fixed the mechanism to remove packages from vcpkg before the build by adding <code>--recurse</code> and I think that I was able to reproduce your error here: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2424/consoleFull\" rel=\"nofollow\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2424/consoleFull</a> . My current hypothesis is that although the CMakeCache.txt displays that it is using qt from tarballs the existence of qt5 vcpkg headers could have been interacting. Working now on validating this idea after solving the freeimage problem. I will comment as soon as I get the info,.</p>", "type": "rendered"}, "created_on": "2019-01-10T21:55:58.522182+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-01-10T21:55:58.536173+00:00", "type": "pullrequest_comment", "id": 87718880}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87747217.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87747217"}}, "parent": {"id": 87718880, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87718880.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87718880"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "It seems to pass now on Azure CI build. :grinning:  [https://ros-win.visualstudio.com/ros-win/\\_build/results?buildId=2565](https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2565) ", "markup": "markdown", "html": "<p>It seems to pass now on Azure CI build. <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f600.png\" alt=\"\ud83d\ude00\" title=\":grinning:\" data-emoji-short-name=\":grinning:\" />  <a data-is-external-link=\"true\" href=\"https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2565\" rel=\"nofollow\">https://ros-win.visualstudio.com/ros-win/_build/results?buildId=2565</a> </p>", "type": "rendered"}, "created_on": "2019-01-11T07:14:07.424487+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2019-01-11T07:14:07.487890+00:00", "type": "pullrequest_comment", "id": 87747217}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87804796.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87804796"}}, "parent": {"id": 87747217, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87747217.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87747217"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "seems like the problem was indeed the mix of vcpkg/tarball headers for qt and we have the first succesfull builds, yay!\n\n* gazebo 9.5.0 \n\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-windows7-amd64&build=2428)\n\n    [https://build.osrfoundation.org/view/All/job/gazebo-ci-pr\\_any-windows7-amd64/2428/](https://build.osrfoundation.org/view/All/job/gazebo-ci-pr_any-windows7-amd64/2428/))\n\n\n* gazebo9 branch\n\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-windows7-amd64&build=2430)\n\n    [https://build.osrfoundation.org/job/gazebo-ci-pr\\_any-windows7-amd64/2430/](https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2430/))\n\n\n\nSean thanks for the patches, really appreciated. I will take care of send the corresponding PRs to Gazebo. A good next step would be to fix compilations problems in the test suite \\(not compiled at this moment\\).", "markup": "markdown", "html": "<p>seems like the problem was indeed the mix of vcpkg/tarball headers for qt and we have the first succesfull builds, yay!</p>\n<ul>\n<li>\n<p>gazebo 9.5.0 </p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-windows7-amd64&amp;build=2428\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/gazebo-ci-pr_any-windows7-amd64/2428/\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/gazebo-ci-pr_any-windows7-amd64/2428/</a>)</p>\n</li>\n<li>\n<p>gazebo9 branch</p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=gazebo-ci-pr_any-windows7-amd64&amp;build=2430\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2430/\" rel=\"nofollow\">https://build.osrfoundation.org/job/gazebo-ci-pr_any-windows7-amd64/2430/</a>)</p>\n</li>\n</ul>\n<p>Sean thanks for the patches, really appreciated. I will take care of send the corresponding PRs to Gazebo. A good next step would be to fix compilations problems in the test suite (not compiled at this moment).</p>", "type": "rendered"}, "created_on": "2019-01-11T14:34:31.586636+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-01-11T14:34:31.601897+00:00", "type": "pullrequest_comment", "id": 87804796}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704/comments/87822236.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704/_/diff#comment-87822236"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 704, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/704.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/704"}}, "title": "Upgrade Windows dependencies for Gazebo and build support"}, "content": {"raw": "Follow at: [#!/osrf/release-tools/pull-requests/704](#!/osrf/release-tools/pull-requests/704)", "markup": "markdown", "html": "<p>Follow at: <a data-is-external-link=\"true\" href=\"#!/osrf/release-tools/pull-requests/704\" rel=\"nofollow\">#!/osrf/release-tools/pull-requests/704</a></p>", "type": "rendered"}, "created_on": "2019-01-11T16:25:13.164997+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2019-01-11T16:25:13.172892+00:00", "type": "pullrequest_comment", "id": 87822236}], "page": 1, "size": 14}