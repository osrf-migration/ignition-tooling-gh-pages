{"pagelen": 50, "values": [{"update": {"description": "When we import an hg repository to GitHub, all it imports all closed branches too are. This PR has a script that is intended to be executed when the current directory is a git repository. The script takes the URL of an hg repository as its argument, clones it to a temporary folder, and identifies the names of closed branches in that repository. It then checks if the git repository in the current folder has any remote branches that match the closed hg branch names, and uses `git push --delete` to delete them from the remote. I tested it on a fork:\r\n\r\n* hg repo: * imported from https://bitbucket.org/ignitionrobotics/ign-physics-release/\r\n* imported to github: https://github.com/ignition-release/ign-physics2-release/branches\r\n* my fork: https://github.com/scpeters/ign-physics2-release/branches\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch found: build_dep_common3_profiler\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         build_dep_common3_profiler\r\nremote git branch found: control_dart6_utils-urdf\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         control_dart6_utils-urdf\r\nremote git branch found: dart69_2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart69_2\r\nremote git branch found: dart_69\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart_69\r\nremote git branch found: explicit_dart7.4\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         explicit_dart7.4\r\nremote git branch found: multipackage\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         multipackage\r\nremote git branch found: release_1.0.0_pre2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         release_1.0.0_pre2\r\nremote git branch found: use_collision_ode\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         use_collision_ode\r\n~~~\r\n\r\nThat deleted the closed branches. Running the script again:\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch not found: build_dep_common3_profiler\r\nremote git branch not found: control_dart6_utils-urdf\r\nremote git branch not found: dart69_2\r\nremote git branch not found: dart_69\r\nremote git branch not found: explicit_dart7.4\r\nremote git branch not found: multipackage\r\nremote git branch not found: release_1.0.0_pre2\r\nremote git branch not found: use_collision_ode\r\n~~~", "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo", "destination": {"commit": {"hash": "20ced5befeb7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/20ced5befeb7.json"}, "html": {"href": "#!/osrf/release-tools/commits/20ced5befeb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "df8fbe494f51", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/df8fbe494f51.json"}, "html": {"href": "#!/osrf/release-tools/commits/df8fbe494f51"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "git_delete_closed_hg_branches"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-29T00:46:05.099529+00:00"}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947/comments/133530962.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947/_/diff#comment-133530962"}}, "parent": {"id": 133502693, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947/comments/133502693.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947/_/diff#comment-133502693"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}, "content": {"raw": "df8fbe494f51", "markup": "markdown", "html": "<p><a href=\"#!/osrf/release-tools/commits/df8fbe494f51\" rel=\"nofollow\" class=\"ap-connect-link\">df8fbe494f51</a></p>", "type": "rendered"}, "created_on": "2020-01-29T00:45:28.498096+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2020-01-29T00:45:28.506316+00:00", "type": "pullrequest_comment", "id": 133530962}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"update": {"description": "When we import an hg repository to GitHub, all it imports all closed branches too are. This PR has a script that is intended to be executed when the current directory is a git repository. The script takes the URL of an hg repository as its argument, clones it to a temporary folder, and identifies the names of closed branches in that repository. It then checks if the git repository in the current folder has any remote branches that match the closed hg branch names, and uses `git push --delete` to delete them from the remote. I tested it on a fork:\r\n\r\n* hg repo: * imported from https://bitbucket.org/ignitionrobotics/ign-physics-release/\r\n* imported to github: https://github.com/ignition-release/ign-physics2-release/branches\r\n* my fork: https://github.com/scpeters/ign-physics2-release/branches\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch found: build_dep_common3_profiler\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         build_dep_common3_profiler\r\nremote git branch found: control_dart6_utils-urdf\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         control_dart6_utils-urdf\r\nremote git branch found: dart69_2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart69_2\r\nremote git branch found: dart_69\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart_69\r\nremote git branch found: explicit_dart7.4\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         explicit_dart7.4\r\nremote git branch found: multipackage\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         multipackage\r\nremote git branch found: release_1.0.0_pre2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         release_1.0.0_pre2\r\nremote git branch found: use_collision_ode\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         use_collision_ode\r\n~~~\r\n\r\nThat deleted the closed branches. Running the script again:\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch not found: build_dep_common3_profiler\r\nremote git branch not found: control_dart6_utils-urdf\r\nremote git branch not found: dart69_2\r\nremote git branch not found: dart_69\r\nremote git branch not found: explicit_dart7.4\r\nremote git branch not found: multipackage\r\nremote git branch not found: release_1.0.0_pre2\r\nremote git branch not found: use_collision_ode\r\n~~~", "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo", "destination": {"commit": {"hash": "20ced5befeb7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/20ced5befeb7.json"}, "html": {"href": "#!/osrf/release-tools/commits/20ced5befeb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "df8fbe494f51", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/df8fbe494f51.json"}, "html": {"href": "#!/osrf/release-tools/commits/df8fbe494f51"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "git_delete_closed_hg_branches"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-29T00:45:18.922352+00:00"}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"approval": {"date": "2020-01-28T19:54:42.651194+00:00", "pullrequest": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947/comments/133502693.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947/_/diff#comment-133502693"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}, "content": {"raw": "It would be helpful to also echo the temp clone location, in case the user wants to debug afterwards", "markup": "markdown", "html": "<p>It would be helpful to also echo the temp clone location, in case the user wants to debug afterwards</p>", "type": "rendered"}, "created_on": "2020-01-28T19:54:26.326268+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-28T19:54:26.333418+00:00", "type": "pullrequest_comment", "id": 133502693}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947/comments/133502594.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947/_/diff#comment-133502594"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}, "content": {"raw": "Works for me. Also supports local mercurial repos, I tested it like this:\n\n```\nsimslides$ ../release-tools/jenkins-scripts/tools/git_delete_closed_hg_branches.bash ../simslides-hg/\n=========== Start Cloning HG Repository\nupdating to branch default                                                                                                               \n29 files updated, 0 files merged, 0 files removed, 0 files unresolved\n=========== Done Cloning HG Repository\n\n=========== Identify Closed HG Branches\nremote git branch found: chapulina/readmemd-edited-online-with-bitbucket-1505594411282\nUsername for 'https://github.com': chapulina\nPassword for 'https://chapulina@github.com': \nTo https://github.com/chapulina/simslides\n - [deleted]         chapulina/readmemd-edited-online-with-bitbucket-1505594411282\n```", "markup": "markdown", "html": "<p>Works for me. Also supports local mercurial repos, I tested it like this:</p>\n<div class=\"codehilite\"><pre><span></span>simslides$ ../release-tools/jenkins-scripts/tools/git_delete_closed_hg_branches.bash ../simslides-hg/\n=========== Start Cloning HG Repository\nupdating to branch default                                                                                                               \n29 files updated, 0 files merged, 0 files removed, 0 files unresolved\n=========== Done Cloning HG Repository\n\n=========== Identify Closed HG Branches\nremote git branch found: chapulina/readmemd-edited-online-with-bitbucket-1505594411282\nUsername for &#39;https://github.com&#39;: chapulina\nPassword for &#39;https://chapulina@github.com&#39;: \nTo https://github.com/chapulina/simslides\n - [deleted]         chapulina/readmemd-edited-online-with-bitbucket-1505594411282\n</pre></div>", "type": "rendered"}, "created_on": "2020-01-28T19:53:36.305255+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-28T19:53:36.311998+00:00", "type": "pullrequest_comment", "id": 133502594}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"update": {"description": "When we import an hg repository to GitHub, all it imports all closed branches too are. This PR has a script that is intended to be executed when the current directory is a git repository. The script takes the URL of an hg repository as its argument, clones it to a temporary folder, and identifies the names of closed branches in that repository. It then checks if the git repository in the current folder has any remote branches that match the closed hg branch names, and uses `git push --delete` to delete them from the remote. I tested it on a fork:\r\n\r\n* hg repo: * imported from https://bitbucket.org/ignitionrobotics/ign-physics-release/\r\n* imported to github: https://github.com/ignition-release/ign-physics2-release/branches\r\n* my fork: https://github.com/scpeters/ign-physics2-release/branches\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch found: build_dep_common3_profiler\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         build_dep_common3_profiler\r\nremote git branch found: control_dart6_utils-urdf\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         control_dart6_utils-urdf\r\nremote git branch found: dart69_2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart69_2\r\nremote git branch found: dart_69\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart_69\r\nremote git branch found: explicit_dart7.4\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         explicit_dart7.4\r\nremote git branch found: multipackage\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         multipackage\r\nremote git branch found: release_1.0.0_pre2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         release_1.0.0_pre2\r\nremote git branch found: use_collision_ode\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         use_collision_ode\r\n~~~\r\n\r\nThat deleted the closed branches. Running the script again:\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch not found: build_dep_common3_profiler\r\nremote git branch not found: control_dart6_utils-urdf\r\nremote git branch not found: dart69_2\r\nremote git branch not found: dart_69\r\nremote git branch not found: explicit_dart7.4\r\nremote git branch not found: multipackage\r\nremote git branch not found: release_1.0.0_pre2\r\nremote git branch not found: use_collision_ode\r\n~~~", "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo", "destination": {"commit": {"hash": "20ced5befeb7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/20ced5befeb7.json"}, "html": {"href": "#!/osrf/release-tools/commits/20ced5befeb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eb4280b307ce", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/eb4280b307ce.json"}, "html": {"href": "#!/osrf/release-tools/commits/eb4280b307ce"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "git_delete_closed_hg_branches"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-28T05:57:09.939052+00:00"}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}, {"update": {"description": "When we import an hg repository to GitHub, all it imports all closed branches too are. This PR has a script that is intended to be executed when the current directory is a git repository. The script takes the URL of an hg repository as its argument, clones it to a temporary folder, and identifies the names of closed branches in that repository. It then checks if the git repository in the current folder has any remote branches that match the closed hg branch names, and uses `git push --delete` to delete them from the remote. I tested it on a fork:\r\n\r\n* hg repo: * imported from https://bitbucket.org/ignitionrobotics/ign-physics-release/\r\n* imported to github: https://github.com/ignition-release/ign-physics2-release/branches\r\n* my fork: https://github.com/scpeters/ign-physics2-release/branches\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch found: build_dep_common3_profiler\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         build_dep_common3_profiler\r\nremote git branch found: control_dart6_utils-urdf\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         control_dart6_utils-urdf\r\nremote git branch found: dart69_2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart69_2\r\nremote git branch found: dart_69\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         dart_69\r\nremote git branch found: explicit_dart7.4\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         explicit_dart7.4\r\nremote git branch found: multipackage\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         multipackage\r\nremote git branch found: release_1.0.0_pre2\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         release_1.0.0_pre2\r\nremote git branch found: use_collision_ode\r\nTo github.com:scpeters/ign-physics2-release.git\r\n - [deleted]         use_collision_ode\r\n~~~\r\n\r\nThat deleted the closed branches. Running the script again:\r\n\r\n~~~\r\n$ $RELEASE_TOOLS_PATH/jenkins-scripts/tools/git_delete_closed_hg_branches.bash \\\r\n https://bitbucket.org/ignitionrobotics/ign-physics-release\r\n=========== Start Cloning HG Repository\r\nrequesting all changes\r\nadding changesets\r\nadding manifests\r\nadding file changes\r\nadded 66 changesets with 154 changes to 59 files\r\nnew changesets 300f19c244d0:afc900c6a935 (3 drafts)\r\nupdating to branch default\r\n53 files updated, 0 files merged, 0 files removed, 0 files unresolved\r\n=========== Done Cloning HG Repository\r\n\r\n=========== Identify Closed HG Branches\r\nremote git branch not found: build_dep_common3_profiler\r\nremote git branch not found: control_dart6_utils-urdf\r\nremote git branch not found: dart69_2\r\nremote git branch not found: dart_69\r\nremote git branch not found: explicit_dart7.4\r\nremote git branch not found: multipackage\r\nremote git branch not found: release_1.0.0_pre2\r\nremote git branch not found: use_collision_ode\r\n~~~", "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo", "destination": {"commit": {"hash": "20ced5befeb7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/20ced5befeb7.json"}, "html": {"href": "#!/osrf/release-tools/commits/20ced5befeb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eb4280b307ce", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/eb4280b307ce.json"}, "html": {"href": "#!/osrf/release-tools/commits/eb4280b307ce"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "git_delete_closed_hg_branches"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-28T05:57:09.875719+00:00"}, "pull_request": {"type": "pullrequest", "id": 947, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/947.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/947"}}, "title": "git_delete_closed_hg_branches.bash: tool for deleted closed hg branches from git repo"}}]}