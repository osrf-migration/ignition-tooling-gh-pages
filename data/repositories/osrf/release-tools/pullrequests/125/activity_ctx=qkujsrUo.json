{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/125/comments/10614272.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/125/_/diff#comment-10614272"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 125, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/125.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/125"}}, "title": "Compute sha256 for generated tarballs and pass to jenkins jobs"}, "content": {"raw": "Thanks for the PR. I see no problem on sending more parameters than needed in the call, they will be ignored. The current code works with nightly ignoring the SHA and other non tarball generations, nice.\n\nThe only minor problem I see is that when running release.py to launch again a failed job that does not need to upload the source (it is already there) we could not use `--no-source-generation` or directly click on `--dry-run`.\n\nAnother that could be easier would be to run the shasum on the jenkins job, so we don't really need to modify release.py. What do you think?", "markup": "markdown", "html": "<p>Thanks for the PR. I see no problem on sending more parameters than needed in the call, they will be ignored. The current code works with nightly ignoring the SHA and other non tarball generations, nice.</p>\n<p>The only minor problem I see is that when running release.py to launch again a failed job that does not need to upload the source (it is already there) we could not use <code>--no-source-generation</code> or directly click on <code>--dry-run</code>.</p>\n<p>Another that could be easier would be to run the shasum on the jenkins job, so we don't really need to modify release.py. What do you think?</p>", "type": "rendered"}, "created_on": "2015-10-08T00:17:28.246412+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-10-08T00:17:28.256541+00:00", "type": "pullrequest_comment", "id": 10614272}, "pull_request": {"type": "pullrequest", "id": 125, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/125.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/125"}}, "title": "Compute sha256 for generated tarballs and pass to jenkins jobs"}}, {"update": {"description": "This is a first part of the procedure to update homebrew formulae as a consequence of the `release.py` script. Currently we create and upload tarballs. This PR also computes a sha256 of the tarball and passes it as a parameter to the jenkins jobs.\r\n\r\nHopefully it won't break existing jobs to receive an unexpected parameter.\r\n\r\nAfter this PR, we should create a new jenkins job that takes 3 parameters:\r\n\r\n* package name (with major revision if applicable, ie `sdformat3`)\r\n* tarball URI\r\n* tarball sha256\r\n\r\nThat jenkins job should do the following:\r\n\r\n* `git clone https://github.com/osrf/homebrew-simulation`\r\n* modify the requested formula\r\n* commit and push to a fork / branch\r\n* create a pull request against `osrf/homebrew-simulation`\r\n\r\nI think that would be a good start.", "title": "Compute sha256 for generated tarballs and pass to jenkins jobs", "destination": {"commit": {"hash": "e92fa8af2c45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/e92fa8af2c45.json"}, "html": {"href": "#!/osrf/release-tools/commits/e92fa8af2c45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ab8b3e15f800", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/ab8b3e15f800.json"}, "html": {"href": "#!/osrf/release-tools/commits/ab8b3e15f800"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "homebrew_formula_pr"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-10-07T22:49:55.703452+00:00"}, "pull_request": {"type": "pullrequest", "id": 125, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/125.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/125"}}, "title": "Compute sha256 for generated tarballs and pass to jenkins jobs"}}, {"update": {"description": "This is a first part of the procedure to update homebrew formulae as a consequence of the `release.py` script. Currently we create and upload tarballs. This PR also computes a sha256 of the tarball and passes it as a parameter to the jenkins jobs.\r\n\r\nHopefully it won't break existing jobs to receive an unexpected parameter.\r\n\r\nAfter this PR, we should create a new jenkins job that takes 3 parameters:\r\n\r\n* package name (with major revision if applicable, ie `sdformat3`)\r\n* tarball URI\r\n* tarball sha256\r\n\r\nThat jenkins job should do the following:\r\n\r\n* `git clone https://github.com/osrf/homebrew-simulation`\r\n* modify the requested formula\r\n* commit and push to a fork / branch\r\n* create a pull request against `osrf/homebrew-simulation`\r\n\r\nI think that would be a good start.", "title": "Compute sha256 for generated tarballs and pass to jenkins jobs", "destination": {"commit": {"hash": "e92fa8af2c45", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/e92fa8af2c45.json"}, "html": {"href": "#!/osrf/release-tools/commits/e92fa8af2c45"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ab8b3e15f800", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/ab8b3e15f800.json"}, "html": {"href": "#!/osrf/release-tools/commits/ab8b3e15f800"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "homebrew_formula_pr"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-10-07T22:49:55.660952+00:00"}, "pull_request": {"type": "pullrequest", "id": 125, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/125.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/125"}}, "title": "Compute sha256 for generated tarballs and pass to jenkins jobs"}}]}