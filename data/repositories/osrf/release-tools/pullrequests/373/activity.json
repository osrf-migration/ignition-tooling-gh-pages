{"pagelen": 50, "values": [{"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. ~~For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions~~\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d487ef8c9802", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/d487ef8c9802.json"}, "html": {"href": "#!/osrf/release-tools/commits/d487ef8c9802"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "MERGED", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T11:54:49.416741+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373/comments/31184097.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373/_/diff#comment-31184097"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}, "content": {"raw": "I just took some minutes to understand what's going on: I think that most of the jobs are failing because we are remove the lists files on every `apt-get update`. Although this is recommended for generating docker layers, I've removed the one that we always run prior to run the build.sh so the builds are back to work normally:\n\nTested:\n\n * http://build.osrfoundation.org/job/ignition_common-install-pkg-trusty-amd64/21/console\n * http://build.osrfoundation.org/job/ignition_transport2-install-pkg-trusty-amd64/56/", "markup": "markdown", "html": "<p>I just took some minutes to understand what's going on: I think that most of the jobs are failing because we are remove the lists files on every <code>apt-get update</code>. Although this is recommended for generating docker layers, I've removed the one that we always run prior to run the build.sh so the builds are back to work normally:</p>\n<p>Tested:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/ignition_common-install-pkg-trusty-amd64/21/console\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/ignition_common-install-pkg-trusty-amd64/21/console</a></li>\n<li><a href=\"http://build.osrfoundation.org/job/ignition_transport2-install-pkg-trusty-amd64/56/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/ignition_transport2-install-pkg-trusty-amd64/56/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-02-09T11:54:40.318578+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2017-02-09T11:54:40.322012+00:00", "type": "pullrequest_comment", "id": 31184097}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. ~~For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions~~\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d487ef8c9802", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/d487ef8c9802.json"}, "html": {"href": "#!/osrf/release-tools/commits/d487ef8c9802"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T11:52:17.515764+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions.\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d487ef8c9802", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/d487ef8c9802.json"}, "html": {"href": "#!/osrf/release-tools/commits/d487ef8c9802"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T11:43:03.548888+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions.\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c6c76581ad1a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/c6c76581ad1a.json"}, "html": {"href": "#!/osrf/release-tools/commits/c6c76581ad1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T11:13:50.991470+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions.\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5697050ab0f9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/5697050ab0f9.json"}, "html": {"href": "#!/osrf/release-tools/commits/5697050ab0f9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T00:07:34.317776+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}, {"update": {"description": "I've moved the invalidation of docker cache so it gets more commands than before. For the ignition-common case I ended up adding an apt-get update before the installation of the dependencies to be sure that we get the latest packages versions.\r\n\r\nTesting runs:\r\n\r\n * http://build.osrfoundation.org/job/srcsim-ci-default-trusty-amd64/25/console\r\n * http://build.osrfoundation.org/view/All/job/ignition-common-pkg_builder-master-debian_sid-amd64/27/", "title": "Improve invalidation of docker cache", "destination": {"commit": {"hash": "b37dabe4671e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/b37dabe4671e.json"}, "html": {"href": "#!/osrf/release-tools/commits/b37dabe4671e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5697050ab0f9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/5697050ab0f9.json"}, "html": {"href": "#!/osrf/release-tools/commits/5697050ab0f9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "improve_invalidation_of_docker_cache"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2017-02-09T00:07:34.289839+00:00"}, "pull_request": {"type": "pullrequest", "id": 373, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/373.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/373"}}, "title": "Improve invalidation of docker cache"}}]}