{"rendered": {"description": {"raw": "This PR adds support to the PR job to detect the Ubuntu image used in `bitbucket-pipelines.yml` and build the job in that DISTRO.\r\n\r\nThe implementation adds some logic in the DSL before calling the scripts to get the ubuntu release present in the yaml file. If the file is not present, the default is to use the CI reference platform.\r\n\r\nTesting:\r\n\r\n* default branch \\(Xenial\\)\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=14)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/14/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console)\r\n\r\n\r\n* gz11 branch \\(Bionic\\) fails because of lack of proper ign-cmake dependency\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=13)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/13/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13)\r\n\r\n\r\n\r\nMental note: approve the scripts in [https://build.osrfoundation.org/scriptApproval/](https://build.osrfoundation.org/scriptApproval/) after merging.", "markup": "markdown", "html": "<p>This PR adds support to the PR job to detect the Ubuntu image used in <code>bitbucket-pipelines.yml</code> and build the job in that DISTRO.</p>\n<p>The implementation adds some logic in the DSL before calling the scripts to get the ubuntu release present in the yaml file. If the file is not present, the default is to use the CI reference platform.</p>\n<p>Testing:</p>\n<ul>\n<li>\n<p>default branch (Xenial)</p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&amp;build=14\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console</a></p>\n</li>\n<li>\n<p>gz11 branch (Bionic) fails because of lack of proper ign-cmake dependency</p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&amp;build=13\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13/console</a></p>\n</li>\n</ul>\n<p>Mental note: approve the scripts in <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/scriptApproval/\" rel=\"nofollow\">https://build.osrfoundation.org/scriptApproval/</a> after merging.</p>", "type": "rendered"}, "title": {"raw": "Change ignition PR jobs to detect Ubuntu from bitbucket-pipelines.yml if present", "markup": "markdown", "html": "<p>Change ignition PR jobs to detect Ubuntu from bitbucket-pipelines.yml if present</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR adds support to the PR job to detect the Ubuntu image used in `bitbucket-pipelines.yml` and build the job in that DISTRO.\r\n\r\nThe implementation adds some logic in the DSL before calling the scripts to get the ubuntu release present in the yaml file. If the file is not present, the default is to use the CI reference platform.\r\n\r\nTesting:\r\n\r\n* default branch \\(Xenial\\)\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=14)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/14/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console)\r\n\r\n\r\n* gz11 branch \\(Bionic\\) fails because of lack of proper ign-cmake dependency\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=13)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/13/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13)\r\n\r\n\r\n\r\nMental note: approve the scripts in [https://build.osrfoundation.org/scriptApproval/](https://build.osrfoundation.org/scriptApproval/) after merging.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/601/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diffstat/osrf/release-tools:a2868d524e36%0D53d99a6689f3?from_pullrequest_id=601"}, "commits": {"href": "data/repositories/osrf/release-tools/pullrequests/601/commits.json"}, "self": {"href": "data/repositories/osrf/release-tools/pullrequests/601.json"}, "comments": {"href": "data/repositories/osrf/release-tools/pullrequests/601/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/601/merge"}, "html": {"href": "#!/osrf/release-tools/pull-requests/601"}, "activity": {"href": "data/repositories/osrf/release-tools/pullrequests/601/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/diff/osrf/release-tools:a2868d524e36%0D53d99a6689f3?from_pullrequest_id=601"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/pullrequests/601/approve"}, "statuses": {"href": "data/repositories/osrf/release-tools/pullrequests/601/statuses_page=1.json"}}, "title": "Change ignition PR jobs to detect Ubuntu from bitbucket-pipelines.yml if present", "close_source_branch": true, "reviewers": [], "id": 601, "destination": {"commit": {"hash": "53d99a6689f3", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/53d99a6689f3.json"}, "html": {"href": "#!/osrf/release-tools/commits/53d99a6689f3"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "created_on": "2018-06-29T10:41:58.430909+00:00", "summary": {"raw": "This PR adds support to the PR job to detect the Ubuntu image used in `bitbucket-pipelines.yml` and build the job in that DISTRO.\r\n\r\nThe implementation adds some logic in the DSL before calling the scripts to get the ubuntu release present in the yaml file. If the file is not present, the default is to use the CI reference platform.\r\n\r\nTesting:\r\n\r\n* default branch \\(Xenial\\)\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=14)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/14/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console)\r\n\r\n\r\n* gz11 branch \\(Bionic\\) fails because of lack of proper ign-cmake dependency\r\n\r\n    ![](https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&build=13)\r\n\r\n    [https://build.osrfoundation.org/view/All/job/ignition\\_math-ci-pr\\_any-ubuntu\\_auto-amd64/13/console](https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13)\r\n\r\n\r\n\r\nMental note: approve the scripts in [https://build.osrfoundation.org/scriptApproval/](https://build.osrfoundation.org/scriptApproval/) after merging.", "markup": "markdown", "html": "<p>This PR adds support to the PR job to detect the Ubuntu image used in <code>bitbucket-pipelines.yml</code> and build the job in that DISTRO.</p>\n<p>The implementation adds some logic in the DSL before calling the scripts to get the ubuntu release present in the yaml file. If the file is not present, the default is to use the CI reference platform.</p>\n<p>Testing:</p>\n<ul>\n<li>\n<p>default branch (Xenial)</p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&amp;build=14\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/14/console</a></p>\n</li>\n<li>\n<p>gz11 branch (Bionic) fails because of lack of proper ign-cmake dependency</p>\n<p><img alt=\"\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_math-ci-pr_any-ubuntu_auto-amd64&amp;build=13\" /></p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13\" rel=\"nofollow\">https://build.osrfoundation.org/view/All/job/ignition_math-ci-pr_any-ubuntu_auto-amd64/13/console</a></p>\n</li>\n</ul>\n<p>Mental note: approve the scripts in <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/scriptApproval/\" rel=\"nofollow\">https://build.osrfoundation.org/scriptApproval/</a> after merging.</p>", "type": "rendered"}, "source": {"commit": {"hash": "aaae94d7e3b9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/aaae94d7e3b9.json"}, "html": {"href": "#!/osrf/release-tools/commits/aaae94d7e3b9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "pipelines_distro_support"}}, "comment_count": 2, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-06-29T10:42:41.584959+00:00", "type": "participant", "approved": false, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, {"role": "PARTICIPANT", "participated_on": "2018-06-29T17:38:56.720300+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2018-06-29T16:43:37.784392+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}], "reason": "", "updated_on": "2018-07-03T20:33:19.682716+00:00", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "merge_commit": {"hash": "a2868d524e36", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/a2868d524e36.json"}, "html": {"href": "#!/osrf/release-tools/commits/a2868d524e36"}}}, "closed_by": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}