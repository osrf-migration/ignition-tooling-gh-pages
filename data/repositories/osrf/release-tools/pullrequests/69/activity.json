{"pagelen": 50, "values": [{"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "62b457a156fb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/62b457a156fb.json"}, "html": {"href": "#!/osrf/release-tools/commits/62b457a156fb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "edeeda6c8ac7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/edeeda6c8ac7.json"}, "html": {"href": "#!/osrf/release-tools/commits/edeeda6c8ac7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-04-13T17:38:27.507141+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"approval": {"date": "2015-04-13T17:37:24.663930+00:00", "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219907.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219907"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "Thanks, the thing is working for me now.\n", "markup": "markdown", "html": "<p>Thanks, the thing is working for me now.</p>", "type": "rendered"}, "created_on": "2015-04-13T17:37:21.359767+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-04-13T17:37:21.368088+00:00", "type": "pullrequest_comment", "id": 6219907}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219836.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219836"}}, "parent": {"id": 6219826, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219826.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219826"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "The middle grep is then needed to select the instance owned by the jenkins user", "markup": "markdown", "html": "<p>The middle grep is then needed to select the instance owned by the jenkins user</p>", "type": "rendered"}, "created_on": "2015-04-13T17:34:40.120207+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T17:34:40.126765+00:00", "type": "pullrequest_comment", "id": 6219836}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219826.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219826"}}, "parent": {"id": 6219801, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219801.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219801"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "The last line selects the display variable:\n~~~\n$ ps ax  \n    | grep '[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz' \\\n    | sed -e 's@.*Xquartz @@' -e 's@ .*@@'\n:0\n:1\n\n~~~", "markup": "markdown", "html": "<p>The last line selects the display variable:</p>\n<div class=\"codehilite\"><pre><span></span>$ ps ax  \n    <span class=\"p\">|</span> grep <span class=\"s1\">&#39;[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz&#39;</span> <span class=\"se\">\\</span>\n    <span class=\"p\">|</span> sed -e <span class=\"s1\">&#39;s@.*Xquartz @@&#39;</span> -e <span class=\"s1\">&#39;s@ .*@@&#39;</span>\n:0\n:1\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-13T17:34:15.286319+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T17:34:15.292307+00:00", "type": "pullrequest_comment", "id": 6219826}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219801.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219801"}}, "parent": {"id": 6219762, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219762.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219762"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "To filter down the number of instances of Xquartz:\n~~~\n$ ps ax  | grep '[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz'\n  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n57597   ??  S      0:00.01 /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n~~~\nNow you can see there are two instances with different users", "markup": "markdown", "html": "<p>To filter down the number of instances of Xquartz:</p>\n<div class=\"codehilite\"><pre><span></span>$ ps ax  <span class=\"p\">|</span> grep <span class=\"s1\">&#39;[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz&#39;</span>\n  <span class=\"m\">355</span>   ??  S      <span class=\"m\">0</span>:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n<span class=\"m\">57597</span>   ??  S      <span class=\"m\">0</span>:00.01 /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n</pre></div>\n\n\n<p>Now you can see there are two instances with different users</p>", "type": "rendered"}, "created_on": "2015-04-13T17:33:20.499558+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T17:33:20.508895+00:00", "type": "pullrequest_comment", "id": 6219801}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219762.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219762"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "Here's a better example, with multiple users running X:\n~~~\nt1000:~ osrf$ ps ax | grep X\n  226   ??  S      0:12.13 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_32776\n  301   ??  S      0:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  302   ??  S      0:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  354   ??  S      0:00.01 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  367   ??  S      0:00.27 /opt/X11/bin/quartz-wm\n  469   ??  Ss     0:00.03 com.apple.appstore.PluginXPCService\n57425   ??  S      0:01.27 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_839885\n57472   ??  S      0:00.05 /opt/X11/bin/xterm\n57473   ??  S      0:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n57474   ??  S      0:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n57556   ??  Ss     0:00.00 /opt/X11/lib/X11/xinit/privileged_startx -d /opt/X11/lib/X11/xinit/privileged_startx.d\n57596   ??  S      0:00.00 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n57597   ??  S      0:00.01 /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n57605   ??  S      0:00.05 /opt/X11/bin/quartz-wm\n57733 s000  S+     0:00.00 grep X\n~~~", "markup": "markdown", "html": "<p>Here's a better example, with multiple users running X:</p>\n<div class=\"codehilite\"><pre><span></span>t1000:~ osrf$ ps ax | grep X\n  226   ??  S      0:12.13 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_32776\n  301   ??  S      0:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  302   ??  S      0:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  354   ??  S      0:00.01 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  367   ??  S      0:00.27 /opt/X11/bin/quartz-wm\n  469   ??  Ss     0:00.03 com.apple.appstore.PluginXPCService\n57425   ??  S      0:01.27 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_839885\n57472   ??  S      0:00.05 /opt/X11/bin/xterm\n57473   ??  S      0:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n57474   ??  S      0:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n57556   ??  Ss     0:00.00 /opt/X11/lib/X11/xinit/privileged_startx -d /opt/X11/lib/X11/xinit/privileged_startx.d\n57596   ??  S      0:00.00 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n57597   ??  S      0:00.01 /opt/X11/bin/Xquartz :1 -nolisten tcp -auth /Users/osrf/.serverauth.57474\n57605   ??  S      0:00.05 /opt/X11/bin/quartz-wm\n57733 s000  S+     0:00.00 grep X\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-13T17:31:54.296761+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T17:31:54.302566+00:00", "type": "pullrequest_comment", "id": 6219762}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "62b457a156fb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/62b457a156fb.json"}, "html": {"href": "#!/osrf/release-tools/commits/62b457a156fb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "edeeda6c8ac7", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/edeeda6c8ac7.json"}, "html": {"href": "#!/osrf/release-tools/commits/edeeda6c8ac7"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-04-13T17:21:52.483931+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219471.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219471"}}, "parent": {"id": 6219322, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219322.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219322"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "thanks; I'll update it", "markup": "markdown", "html": "<p>thanks; I'll update it</p>", "type": "rendered"}, "created_on": "2015-04-13T17:20:34.457346+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2015-04-13T17:20:34.465302+00:00", "type": "pullrequest_comment", "id": 6219471}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219322.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219322"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "Testing this on linux grep, the d wildcard is not working. Something like:\n\n`| grep '[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz'`\n\nis working on my linux box", "markup": "markdown", "html": "<p>Testing this on linux grep, the d wildcard is not working. Something like:</p>\n<p><code>| grep '[[:digit:]]*:[[:digit:]][[:digit:]].[[:digit:]][[:digit:]] /opt/X11/bin/Xquartz'</code></p>\n<p>is working on my linux box</p>", "type": "rendered"}, "created_on": "2015-04-13T17:14:19.180054+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "inline": {}, "updated_on": "2015-04-13T17:14:19.186625+00:00", "type": "pullrequest_comment", "id": 6219322}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6219035.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6219035"}}, "parent": {"id": 6218817, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6218817.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6218817"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "Also, there will be multiple display variables created when multiple users have opened Xquartz", "markup": "markdown", "html": "<p>Also, there will be multiple display variables created when multiple users have opened Xquartz</p>", "type": "rendered"}, "created_on": "2015-04-13T17:02:43.964133+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T17:02:43.969324+00:00", "type": "pullrequest_comment", "id": 6219035}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6218852.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6218852"}}, "parent": {"id": 6218817, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6218817.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6218817"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "We want to isolate the line:\n~~~\n  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n~~~\nsince this is the X instance owned by jenkins", "markup": "markdown", "html": "<p>We want to isolate the line:</p>\n<div class=\"codehilite\"><pre><span></span>  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n</pre></div>\n\n\n<p>since this is the X instance owned by jenkins</p>", "type": "rendered"}, "created_on": "2015-04-13T16:55:57.564396+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T16:55:57.574996+00:00", "type": "pullrequest_comment", "id": 6218852}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/6218817.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-6218817"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "Some info about grepping the `ps ax`:\n~~~\n$ ps ax | grep X\n  226   ??  S      0:12.09 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_32776\n  301   ??  S      0:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  302   ??  S      0:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  354   ??  S      0:00.01 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  355   ??  S      0:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  367   ??  S      0:00.26 /opt/X11/bin/quartz-wm\n  469   ??  Ss     0:00.03 com.apple.appstore.PluginXPCService\n~~~", "markup": "markdown", "html": "<p>Some info about grepping the <code>ps ax</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ ps ax <span class=\"p\">|</span> grep X\n  <span class=\"m\">226</span>   ??  S      <span class=\"m\">0</span>:12.09 /Applications/Utilities/XQuartz.app/Contents/MacOS/X11.bin -psn_0_32776\n  <span class=\"m\">301</span>   ??  S      <span class=\"m\">0</span>:00.00 /opt/X11/lib/X11/xinit/launchd_startx /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  <span class=\"m\">302</span>   ??  S      <span class=\"m\">0</span>:00.01 /bin/sh /opt/X11/bin/startx -- /opt/X11/bin/Xquartz\n  <span class=\"m\">354</span>   ??  S      <span class=\"m\">0</span>:00.01 /opt/X11/bin/xinit /opt/X11/lib/X11/xinit/xinitrc -- /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  <span class=\"m\">355</span>   ??  S      <span class=\"m\">0</span>:00.01 /opt/X11/bin/Xquartz :0 -nolisten tcp -auth /Users/jenkins/.serverauth.302\n  <span class=\"m\">367</span>   ??  S      <span class=\"m\">0</span>:00.26 /opt/X11/bin/quartz-wm\n  <span class=\"m\">469</span>   ??  Ss     <span class=\"m\">0</span>:00.03 com.apple.appstore.PluginXPCService\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-13T16:54:19.281026+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-04-13T16:54:19.290298+00:00", "type": "pullrequest_comment", "id": 6218817}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "7b63028a646e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/7b63028a646e.json"}, "html": {"href": "#!/osrf/release-tools/commits/7b63028a646e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c836da780447", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/c836da780447.json"}, "html": {"href": "#!/osrf/release-tools/commits/c836da780447"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-21T08:52:00.151679+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "7b63028a646e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/7b63028a646e.json"}, "html": {"href": "#!/osrf/release-tools/commits/7b63028a646e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "901212c04c27", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/901212c04c27.json"}, "html": {"href": "#!/osrf/release-tools/commits/901212c04c27"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-21T08:30:19.898057+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "7b63028a646e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/7b63028a646e.json"}, "html": {"href": "#!/osrf/release-tools/commits/7b63028a646e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "901212c04c27", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/901212c04c27.json"}, "html": {"href": "#!/osrf/release-tools/commits/901212c04c27"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-21T08:29:02.664325+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69/comments/5353491.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69/_/diff#comment-5353491"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}, "content": {"raw": "I thought that `open /Applications/Utilities/XQuartz.app` would work, but it doesn't seem to work actually. For the X server to be used by Jenkins, the Jenkins user must be logged in to the GUI and the Xquartz app must be opened from the GUI. I'm not sure how to fix it.", "markup": "markdown", "html": "<p>I thought that <code>open /Applications/Utilities/XQuartz.app</code> would work, but it doesn't seem to work actually. For the X server to be used by Jenkins, the Jenkins user must be logged in to the GUI and the Xquartz app must be opened from the GUI. I'm not sure how to fix it.</p>", "type": "rendered"}, "created_on": "2015-02-26T00:04:02.867845+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-26T00:04:02.874658+00:00", "type": "pullrequest_comment", "id": 5353491}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "2fc4f9eb54cf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/2fc4f9eb54cf.json"}, "html": {"href": "#!/osrf/release-tools/commits/2fc4f9eb54cf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9322fb14cfcd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/9322fb14cfcd.json"}, "html": {"href": "#!/osrf/release-tools/commits/9322fb14cfcd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-25T22:48:24.232431+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "2fc4f9eb54cf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/2fc4f9eb54cf.json"}, "html": {"href": "#!/osrf/release-tools/commits/2fc4f9eb54cf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9322fb14cfcd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/9322fb14cfcd.json"}, "html": {"href": "#!/osrf/release-tools/commits/9322fb14cfcd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-25T22:48:16.785044+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}, {"update": {"description": "Display detection wasn't working properly. Also, gazebo requires the DISPLAY variable to be set before the cmake invocation in order to run glxinfo, so I moved the detection forward.\r\n\r\nI did some testing and found that Xquartz will start a unique X server for each user that wants it. We can force one to open with `open /Applications/Utilities/XQuartz.app` and then detect which one is ours by grepping the `ps ax` for our user name.\r\n\r\nThese improvements will start an X server if one isn't yet running, and should also detect the proper one if there are multiples running.\r\n\r\nI've been testing this branch with the following jobs:\r\n\r\n* http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/\r\n* http://build.osrfoundation.org/job/gazebo-any-devel-homebrew-amd64/", "title": "Improve display detection for jenkins homebrew jobs", "destination": {"commit": {"hash": "2fc4f9eb54cf", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/2fc4f9eb54cf.json"}, "html": {"href": "#!/osrf/release-tools/commits/2fc4f9eb54cf"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9322fb14cfcd", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/release-tools/commit/9322fb14cfcd.json"}, "html": {"href": "#!/osrf/release-tools/commits/9322fb14cfcd"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "branch": {"name": "osx_display_detect"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-02-25T22:48:16.708993+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/69.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/69"}}, "title": "Improve display detection for jenkins homebrew jobs"}}]}