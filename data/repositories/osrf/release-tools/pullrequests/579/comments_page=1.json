{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64148897.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64148897"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 579, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579"}}, "title": "Workaround for arm64 qemu problem with man-db"}, "content": {"raw": "Thanks for the the FYI. It's interesting that this is so repeatable.\n\nThe ROS buildfarm had seen periodic hangs with certain CMake commands (https://github.com/ros-infrastructure/ros_buildfarm/issues/214) before and after the jump to Docker 17.05 with the xenial migration.\nBut since https://github.com/osrf/multiarch-docker-image-generation/pull/14 was deployed build.ros.org has been running qemu images fine with few, if-any hangs. I sampled a few jobs and although several installed man-db, none had `Processing triggers for man-db` in their logs\n\nWhat version of Docker is on the hosts that were failing?", "markup": "markdown", "html": "<p>Thanks for the the FYI. It's interesting that this is so repeatable.</p>\n<p>The ROS buildfarm had seen periodic hangs with certain CMake commands (<a href=\"https://github.com/ros-infrastructure/ros_buildfarm/issues/214\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/ros-infrastructure/ros_buildfarm/issues/214</a>) before and after the jump to Docker 17.05 with the xenial migration.\nBut since <a href=\"https://github.com/osrf/multiarch-docker-image-generation/pull/14\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/osrf/multiarch-docker-image-generation/pull/14</a> was deployed build.ros.org has been running qemu images fine with few, if-any hangs. I sampled a few jobs and although several installed man-db, none had <code>Processing triggers for man-db</code> in their logs</p>\n<p>What version of Docker is on the hosts that were failing?</p>", "type": "rendered"}, "created_on": "2018-05-14T13:46:12.000093+00:00", "user": {"display_name": "Steven! Ragnar\u00f6k", "uuid": "{0e571fb3-cb4b-4246-bfd1-f9bbda703650}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D"}, "html": {"href": "https://bitbucket.org/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4698d387cdde58a95c8dc7f8d198cb48d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSR-2.png"}}, "nickname": "nuclearsandwich", "type": "user", "account_id": "557058:02648307-b166-40c3-8ad3-58c6b9fa1b67"}, "updated_on": "2018-05-14T13:46:12.040840+00:00", "type": "pullrequest_comment", "id": 64148897}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64159869.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64159869"}}, "parent": {"id": 64148897, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64148897.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64148897"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 579, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579"}}, "title": "Workaround for arm64 qemu problem with man-db"}, "content": {"raw": "docker-ce 18.03.1~ce-0~ubuntu", "markup": "markdown", "html": "<p>docker-ce 18.03.1~ce-0~ubuntu</p>", "type": "rendered"}, "created_on": "2018-05-14T14:50:01.761164+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-05-14T14:50:01.832458+00:00", "type": "pullrequest_comment", "id": 64159869}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64163130.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64163130"}}, "parent": {"id": 64159869, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64159869.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64159869"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 579, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579"}}, "title": "Workaround for arm64 qemu problem with man-db"}, "content": {"raw": "Exciting. We're deploying that version of Docker to build.ros.org this week. I wonder if we'll run into this.", "markup": "markdown", "html": "<p>Exciting. We're deploying that version of Docker to build.ros.org this week. I wonder if we'll run into this.</p>", "type": "rendered"}, "created_on": "2018-05-14T15:09:29.777593+00:00", "user": {"display_name": "Steven! Ragnar\u00f6k", "uuid": "{0e571fb3-cb4b-4246-bfd1-f9bbda703650}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D"}, "html": {"href": "https://bitbucket.org/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4698d387cdde58a95c8dc7f8d198cb48d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSR-2.png"}}, "nickname": "nuclearsandwich", "type": "user", "account_id": "557058:02648307-b166-40c3-8ad3-58c6b9fa1b67"}, "updated_on": "2018-05-14T15:09:29.790126+00:00", "type": "pullrequest_comment", "id": 64163130}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64166437.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64166437"}}, "parent": {"id": 64163130, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64163130.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64163130"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 579, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579"}}, "title": "Workaround for arm64 qemu problem with man-db"}, "content": {"raw": "The [ubuntu bug](https://bugs.launchpad.net/qemu/+bug/1726394) says that is was fixed in version \\`1:2.10\\+dfsg-0ubuntu4\\` \\(Bionic\\) and upstream qemu released it in version 2.11. I was unable to make it work with these versions, gave up and finally make it work with this wokraround. Let me know if you find it during the next days.", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"https://bugs.launchpad.net/qemu/+bug/1726394\" rel=\"nofollow\">ubuntu bug</a> says that is was fixed in version `1:2.10+dfsg-0ubuntu4` (Bionic) and upstream qemu released it in version 2.11. I was unable to make it work with these versions, gave up and finally make it work with this wokraround. Let me know if you find it during the next days.</p>", "type": "rendered"}, "created_on": "2018-05-14T15:30:15.969251+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-05-14T15:30:33.068988+00:00", "type": "pullrequest_comment", "id": 64166437}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64170110.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64170110"}}, "parent": {"id": 64166437, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579/comments/64166437.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579/_/diff#comment-64166437"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 579, "links": {"self": {"href": "data/repositories/osrf/release-tools/pullrequests/579.json"}, "html": {"href": "#!/osrf/release-tools/pull-requests/579"}}, "title": "Workaround for arm64 qemu problem with man-db"}, "content": {"raw": "Noting here what @_jrivero_ and I discussed offline. The reason that this was hard to test is that the qemu-{arm,aarch64}-static interpreter binary is bundled into the container filesystem rather than using the one from the system.\nTo run the container with an alternative interpreter use the `-v` option to mount it. Example: `docker run -ti -v /usr/bin/qemu-aarch64-static:/usr/bin/qemu-aarch64-static osrf/ubuntu_arm64:bionic bash`.", "markup": "markdown", "html": "<p>Noting here what @<em>jrivero</em> and I discussed offline. The reason that this was hard to test is that the qemu-{arm,aarch64}-static interpreter binary is bundled into the container filesystem rather than using the one from the system.\nTo run the container with an alternative interpreter use the <code>-v</code> option to mount it. Example: <code>docker run -ti -v /usr/bin/qemu-aarch64-static:/usr/bin/qemu-aarch64-static osrf/ubuntu_arm64:bionic bash</code>.</p>", "type": "rendered"}, "created_on": "2018-05-14T15:57:15.193888+00:00", "user": {"display_name": "Steven! Ragnar\u00f6k", "uuid": "{0e571fb3-cb4b-4246-bfd1-f9bbda703650}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D"}, "html": {"href": "https://bitbucket.org/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4698d387cdde58a95c8dc7f8d198cb48d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSR-2.png"}}, "nickname": "nuclearsandwich", "type": "user", "account_id": "557058:02648307-b166-40c3-8ad3-58c6b9fa1b67"}, "updated_on": "2018-05-14T15:57:27.168366+00:00", "type": "pullrequest_comment", "id": 64170110}], "page": 1, "size": 5}