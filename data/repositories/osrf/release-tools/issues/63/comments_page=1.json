{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26024571.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26024571"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "I'm not able to detect which of the steps is triggering the out of memory. Seems like parsing the Warnings is finished. Some ideas:\n\n  * Let's track which nodes are failing with this error\n  * The new steps for publishing the status could be the cause since they go just after the Warning check and use regexp for parsing the console log, which is big.", "markup": "markdown", "html": "<p>I'm not able to detect which of the steps is triggering the out of memory. Seems like parsing the Warnings is finished. Some ideas:</p>\n<ul>\n<li>Let's track which nodes are failing with this error</li>\n<li>The new steps for publishing the status could be the cause since they go just after the Warning check and use regexp for parsing the console log, which is big.</li>\n</ul>", "type": "rendered"}, "created_on": "2016-03-07T13:40:05.493954+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 26024571}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26036003.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26036003"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "As I look, it seems like many of the trusty-nvidia builds fail with this error, but it has only seemed to cause a problem once we started publishing the build status to bitbucket:\n\n* optimus: http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/86/console\n* r2d2: http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/159/console\n* r2d2 before build statuses were posted: http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/157/console", "markup": "markdown", "html": "<p>As I look, it seems like many of the trusty-nvidia builds fail with this error, but it has only seemed to cause a problem once we started publishing the build status to bitbucket:</p>\n<ul>\n<li>optimus: <a href=\"http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/86/console\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/main/view/GazeboDefault/job/gazebo-ci-default-trusty-amd64-gpu-nvidia/86/console</a></li>\n<li>r2d2: <a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/159/console\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/159/console</a></li>\n<li>r2d2 before build statuses were posted: <a href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/157/console\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/157/console</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-03-07T20:59:21.097832+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 26036003}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26253854.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26253854"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "The problem is the size of the log in the nvidia gazebo build. Seems like the issue [has been reported upstream](https://issues.jenkins-ci.org/browse/JENKINS-12830).\n\nWhat's going on to solve the problem:\n\n  * The good conditional step plugin can not be use since we change the status of the build in post-build actions (cppcheck, warnings or tests)\n  * Run java process with 512m of memory in a [testing run](http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/190/console), only in the optimus node (the setting needs to be configured in the node filesystem).\n  * Implementing an orchestration model to convert the current monolitic job into a set of jobs that can easily be triggered and don't depend on parsing the log.", "markup": "markdown", "html": "<p>The problem is the size of the log in the nvidia gazebo build. Seems like the issue <a data-is-external-link=\"true\" href=\"https://issues.jenkins-ci.org/browse/JENKINS-12830\" rel=\"nofollow\">has been reported upstream</a>.</p>\n<p>What's going on to solve the problem:</p>\n<ul>\n<li>The good conditional step plugin can not be use since we change the status of the build in post-build actions (cppcheck, warnings or tests)</li>\n<li>Run java process with 512m of memory in a <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-trusty-amd64-gpu-nvidia/190/console\" rel=\"nofollow\">testing run</a>, only in the optimus node (the setting needs to be configured in the node filesystem).</li>\n<li>Implementing an orchestration model to convert the current monolitic job into a set of jobs that can easily be triggered and don't depend on parsing the log.</li>\n</ul>", "type": "rendered"}, "created_on": "2016-03-15T23:21:03.102089+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2016-03-15T23:22:26.508099+00:00", "type": "issue_comment", "id": 26253854}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26254095.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26254095"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "Do you need assistance at this point?", "markup": "markdown", "html": "<p>Do you need assistance at this point?</p>", "type": "rendered"}, "created_on": "2016-03-15T23:35:29.823847+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 26254095}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26795548.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26795548"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "I disabled the ANSI color formatting in a test run, and I didn't observe any java memory errors.\n\n* [with color formatting](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/) 120 MB\n* [without color formatting](http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/) 8 MB", "markup": "markdown", "html": "<p>I disabled the ANSI color formatting in a test run, and I didn't observe any java memory errors.</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/4/\" rel=\"nofollow\">with color formatting</a> 120 MB</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-ci-pr_any-homebrew-amd64_flaky/5/\" rel=\"nofollow\">without color formatting</a> 8 MB</li>\n</ul>", "type": "rendered"}, "created_on": "2016-04-07T00:40:10.947507+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 26795548}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63/comments/26795595.json"}, "html": {"href": "#!/osrf/release-tools/issues/63#comment-26795595"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Jenkins error: java.lang.OutOfMemoryError: Java heap space"}, "content": {"raw": "Makes sense, I would say that the plugin is buggy with large log files. Since the move to orchestration is ready to be merged, we will stop using this approach and improve in how we manage the post-actions after getting the result of jobs.", "markup": "markdown", "html": "<p>Makes sense, I would say that the plugin is buggy with large log files. Since the move to orchestration is ready to be merged, we will stop using this approach and improve in how we manage the post-actions after getting the result of jobs.</p>", "type": "rendered"}, "created_on": "2016-04-07T00:45:18.692092+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 26795595}], "page": 1, "size": 6}