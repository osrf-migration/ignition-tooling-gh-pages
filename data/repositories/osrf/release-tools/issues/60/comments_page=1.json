{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25678729.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25678729"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "Here's a loop for re-running `make test` N times:\n\n~~~\nexport N=10\nfor i in `seq ${N}`\ndo\n  echo Re-running failed tests, ${i} of ${N} times\n  if make test ARGS=\"-VV --rerun-failed\"; then\n    break\n  fi\ndone\n~~~", "markup": "markdown", "html": "<p>Here's a loop for re-running <code>make test</code> N times:</p>\n<div class=\"codehilite\"><pre><span></span>export N=10\nfor i in `seq <span class=\"cp\">${</span><span class=\"n\">N</span><span class=\"cp\">}</span>`\ndo\n  echo Re-running failed tests, <span class=\"cp\">${</span><span class=\"n\">i</span><span class=\"cp\">}</span> of <span class=\"cp\">${</span><span class=\"n\">N</span><span class=\"cp\">}</span> times\n  if make test ARGS=&quot;-VV --rerun-failed&quot;; then\n    break\n  fi\ndone\n</pre></div>", "type": "rendered"}, "created_on": "2016-02-22T21:01:51.335444+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25678729}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25678961.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25678961"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "Apparently there is a jenkins plugin for displaying info about flaky tests:\n\n* https://wiki.jenkins-ci.org/display/JENKINS/Flaky+Test+Handler+Plugin", "markup": "markdown", "html": "<p>Apparently there is a jenkins plugin for displaying info about flaky tests:</p>\n<ul>\n<li><a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Flaky+Test+Handler+Plugin\" rel=\"nofollow\" class=\"ap-connect-link\">https://wiki.jenkins-ci.org/display/JENKINS/Flaky+Test+Handler+Plugin</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-02-22T21:10:07.582861+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25678961}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25680802.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25680802"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "Interesting. In our large projects, like gazebo, this has an impact on the building + testing time, so not suitable our standard pipeline `ci-pr_any`.", "markup": "markdown", "html": "<p>Interesting. In our large projects, like gazebo, this has an impact on the building + testing time, so not suitable our standard pipeline <code>ci-pr_any</code>.</p>", "type": "rendered"}, "created_on": "2016-02-22T22:26:13.562003+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 25680802}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25682152.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25682152"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "That's a good point, but I think it could still be useful for `ci-pr_any`, since flaky tests are a problem there too. It would only repeat the failing tests, which are hopefully a small subset, so it may not add too much to the run-time, especially if we say `N=1`. We could see how much additional time it takes when we actually test it.", "markup": "markdown", "html": "<p>That's a good point, but I think it could still be useful for <code>ci-pr_any</code>, since flaky tests are a problem there too. It would only repeat the failing tests, which are hopefully a small subset, so it may not add too much to the run-time, especially if we say <code>N=1</code>. We could see how much additional time it takes when we actually test it.</p>", "type": "rendered"}, "created_on": "2016-02-23T00:09:05.023134+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25682152}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25682651.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25682651"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "Oh, repeating only the failing tests is fine to go into our CI pr workflow. That would not detect the false positives but can help with the detecting the flaky ones among the failings.", "markup": "markdown", "html": "<p>Oh, repeating only the failing tests is fine to go into our CI pr workflow. That would not detect the false positives but can help with the detecting the flaky ones among the failings.</p>", "type": "rendered"}, "created_on": "2016-02-23T00:57:30.330647+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 25682651}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25683004.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25683004"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "Indeed, it is too expensive to try to find false positives, but being able to distinguish between flaky and always-failing is very useful.", "markup": "markdown", "html": "<p>Indeed, it is too expensive to try to find false positives, but being able to distinguish between flaky and always-failing is very useful.</p>", "type": "rendered"}, "created_on": "2016-02-23T01:26:16.572663+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25683004}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25683007.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25683007"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "I've added this to the spreadsheet already :)", "markup": "markdown", "html": "<p>I've added this to the spreadsheet already :)</p>", "type": "rendered"}, "created_on": "2016-02-23T01:26:32.520525+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25683007}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/25983352.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-25983352"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "I think the flaky testing strategy could also depend on the job.\n\nFor example sdformat and ignition-math, are stable and have relatively short test durations. So I wouldn't mind running these tests several times and notifying for any failures.\n\nGazebo and ignition-transport, however, take a little longer to run the tests and seem to have some flakiness. For these, I would consider just re-running failures to see which tests are always failing and which are sometimes failing.", "markup": "markdown", "html": "<p>I think the flaky testing strategy could also depend on the job.</p>\n<p>For example sdformat and ignition-math, are stable and have relatively short test durations. So I wouldn't mind running these tests several times and notifying for any failures.</p>\n<p>Gazebo and ignition-transport, however, take a little longer to run the tests and seem to have some flakiness. For these, I would consider just re-running failures to see which tests are always failing and which are sometimes failing.</p>", "type": "rendered"}, "created_on": "2016-03-04T21:21:50.746234+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 25983352}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60/comments/26645509.json"}, "html": {"href": "#!/osrf/release-tools/issues/60#comment-26645509"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/60.json"}}, "type": "issue", "id": 60, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Repeat failed tests to identify flaky ones?"}, "content": {"raw": "pull request #209 will re-run failed tests once on gazebo7+ on homebrew", "markup": "markdown", "html": "<p><a href=\"#!/osrf/release-tools/pull-requests/209/rerun-failed-tests-in-gazebo-homebrew-60\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #209</a> will re-run failed tests once on gazebo7+ on homebrew</p>", "type": "rendered"}, "created_on": "2016-03-31T19:21:33.638281+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 26645509}], "page": 1, "size": 9}