{"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/21/comments/7408988.json"}, "html": {"href": "#!/osrf/release-tools/issues/21#comment-7408988"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "Enable gazebo-simbody and gazebo-dart jobs"}, "content": {"raw": "I would look for tests that include `helper_physics_generator.hh`:\n~~~\n$ grep -rlI 'include.*helper_physics_generator' . | sort\n./gazebo/physics/Joint_TEST.cc\n./test/integration/bandwidth.cc\n./test/integration/contact_sensor.cc\n./test/integration/factory.cc\n./test/integration/heightmap.cc\n./test/integration/imu.cc\n./test/integration/laser.cc\n./test/integration/nondefault_world.cc\n./test/integration/physics.cc\n./test/integration/physics_msgs.cc\n./test/integration/physics_thread_safe.cc\n./test/integration/pioneer2dx.cc\n./test/integration/pr2.cc\n./test/integration/server_fixture.cc\n./test/integration/speed.cc\n./test/integration/speed_pr2.cc\n./test/integration/surface_properties.cc\n~~~\nThere are still a few other tests involving multiple physics engines that aren't using that helper, but we should migrate these to use the helper in my opinion:\n~~~\n$ grep -rnI '(\"ode\")' . | grep -i test\n./gazebo/sensors/ImuSensor_TEST.cc:77:  BasicImuSensorCheck(\"ode\");\n./gazebo/sensors/ImuSensor_TEST.cc:155:  LinearAccelerationTest(\"ode\");\n./gazebo/physics/PhysicsEngine_TEST.cc:97:  PhysicsEngineParam(\"ode\");\n./gazebo/physics/ode/ODEGearboxJoint_TEST.cc:102:  GearboxTest(\"ode\");\n./gazebo/physics/ode/ODEGearboxJoint_TEST.cc:176:  SetGearRatio(\"ode\");\n./test/integration/physics.cc:1289:  DropStuff(\"ode\");\n./test/integration/surface_properties.cc:173:INSTANTIATE_TEST_CASE_P(TestODE, SurfaceTest, ::testing::Values(\"ode\"));\n./test/integration/transceiver.cc:406:    ::testing::Values(\"ode\"));\n./test/integration/stress_spawn_models.cc:67:    ::testing::Values(\"ode\"));\n~~~", "markup": "markdown", "html": "<p>I would look for tests that include <code>helper_physics_generator.hh</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ grep -rlI <span class=\"s1\">&#39;include.*helper_physics_generator&#39;</span> . <span class=\"p\">|</span> sort\n./gazebo/physics/Joint_TEST.cc\n./test/integration/bandwidth.cc\n./test/integration/contact_sensor.cc\n./test/integration/factory.cc\n./test/integration/heightmap.cc\n./test/integration/imu.cc\n./test/integration/laser.cc\n./test/integration/nondefault_world.cc\n./test/integration/physics.cc\n./test/integration/physics_msgs.cc\n./test/integration/physics_thread_safe.cc\n./test/integration/pioneer2dx.cc\n./test/integration/pr2.cc\n./test/integration/server_fixture.cc\n./test/integration/speed.cc\n./test/integration/speed_pr2.cc\n./test/integration/surface_properties.cc\n</pre></div>\n\n\n<p>There are still a few other tests involving multiple physics engines that aren't using that helper, but we should migrate these to use the helper in my opinion:</p>\n<div class=\"codehilite\"><pre><span></span>$ grep -rnI <span class=\"s1\">&#39;(&quot;ode&quot;)&#39;</span> . <span class=\"p\">|</span> grep -i <span class=\"nb\">test</span>\n./gazebo/sensors/ImuSensor_TEST.cc:77:  BasicImuSensorCheck<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./gazebo/sensors/ImuSensor_TEST.cc:155:  LinearAccelerationTest<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./gazebo/physics/PhysicsEngine_TEST.cc:97:  PhysicsEngineParam<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./gazebo/physics/ode/ODEGearboxJoint_TEST.cc:102:  GearboxTest<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./gazebo/physics/ode/ODEGearboxJoint_TEST.cc:176:  SetGearRatio<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./test/integration/physics.cc:1289:  DropStuff<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">)</span><span class=\"p\">;</span>\n./test/integration/surface_properties.cc:173:INSTANTIATE_TEST_CASE_P<span class=\"o\">(</span>TestODE, SurfaceTest, ::testing::Values<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">))</span><span class=\"p\">;</span>\n./test/integration/transceiver.cc:406:    ::testing::Values<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">))</span><span class=\"p\">;</span>\n./test/integration/stress_spawn_models.cc:67:    ::testing::Values<span class=\"o\">(</span><span class=\"s2\">&quot;ode&quot;</span><span class=\"o\">))</span><span class=\"p\">;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-12-18T18:30:52.992344+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 7408988}