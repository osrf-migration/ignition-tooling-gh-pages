{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "links": {"attachments": {"href": "data/repositories/osrf/release-tools/issues/130/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/release-tools/issues/130.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/issues/130/watch"}, "comments": {"href": "data/repositories/osrf/release-tools/issues/130/comments_page=1.json"}, "html": {"href": "#!/osrf/release-tools/issues/130/set-a-build_tool-variable-to-switch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/release-tools/issues/130/vote"}}, "reporter": {"display_name": "Steven! Ragnar\u00f6k", "uuid": "{0e571fb3-cb4b-4246-bfd1-f9bbda703650}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D"}, "html": {"href": "https://bitbucket.org/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4698d387cdde58a95c8dc7f8d198cb48d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSR-2.png"}}, "nickname": "nuclearsandwich", "type": "user", "account_id": "557058:02648307-b166-40c3-8ad3-58c6b9fa1b67"}, "title": "Set a BUILD_TOOL variable to switch between catkin_tools and catkin_make_isolated", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The most supported build tool for ROS projects is currently `catkin_make_isolated` which is what the servicesim team is using locally.\r\n\r\nThe release script `jenkins-scripts/docker/lib/_ros_setup_buildsh.bash` uses catkin_tools. In order to implement CI for servicesim in #!/osrf/release-tools/pull-requests/525/ I copied the file and adapted it to use catkin_make_isolated but since there's a lot still common to both scripts that now needs to be maintained in two places we discussed using a `BUILD_TOOL` variable to switch which tool is used and reuinify the scripts.\r\n\r\nI will have a very simple straw-man PR that simply passes the BUILD_TOOL variable down to the generated build.sh script today or Monday.", "markup": "markdown", "html": "<p>The most supported build tool for ROS projects is currently <code>catkin_make_isolated</code> which is what the servicesim team is using locally.</p>\n<p>The release script <code>jenkins-scripts/docker/lib/_ros_setup_buildsh.bash</code> uses catkin_tools. In order to implement CI for servicesim in <a href=\"#!/osrf/release-tools/pull-requests/525/\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/release-tools/pull-requests/525/</a> I copied the file and adapted it to use catkin_make_isolated but since there's a lot still common to both scripts that now needs to be maintained in two places we discussed using a <code>BUILD_TOOL</code> variable to switch which tool is used and reuinify the scripts.</p>\n<p>I will have a very simple straw-man PR that simply passes the BUILD_TOOL variable down to the generated build.sh script today or Monday.</p>", "type": "rendered"}, "assignee": {"display_name": "Steven! Ragnar\u00f6k", "uuid": "{0e571fb3-cb4b-4246-bfd1-f9bbda703650}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D"}, "html": {"href": "https://bitbucket.org/%7B0e571fb3-cb4b-4246-bfd1-f9bbda703650%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4698d387cdde58a95c8dc7f8d198cb48d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSR-2.png"}}, "nickname": "nuclearsandwich", "type": "user", "account_id": "557058:02648307-b166-40c3-8ad3-58c6b9fa1b67"}, "state": "new", "version": null, "edited_on": null, "created_on": "2018-02-23T14:59:55.847337+00:00", "milestone": null, "updated_on": "2018-02-23T14:59:55.847337+00:00", "type": "issue", "id": 130}