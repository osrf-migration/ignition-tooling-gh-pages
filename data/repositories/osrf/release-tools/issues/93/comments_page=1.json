{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/33368397.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-33368397"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "We have been suffering from the problem for a while.\n\nI probably installed hg in `/usr/bin` on t1000 at some point. Point the scripts to run explicitly hg located into `/usr/local/` could be a workaround as it could be modifying the `PATH` variable in the jenkins node configuration to explicitly point to `/usr/local`.\n\nFrom my previous experience the main problem for these solutions is that the jobs that use \"Source Code Management\" (mostly all -ci-default, -ci-pr_any-, ...) fail since we don't control the path there and the node `PATH` is still not in place in that step.", "markup": "markdown", "html": "<p>We have been suffering from the problem for a while.</p>\n<p>I probably installed hg in <code>/usr/bin</code> on t1000 at some point. Point the scripts to run explicitly hg located into <code>/usr/local/</code> could be a workaround as it could be modifying the <code>PATH</code> variable in the jenkins node configuration to explicitly point to <code>/usr/local</code>.</p>\n<p>From my previous experience the main problem for these solutions is that the jobs that use \"Source Code Management\" (mostly all -ci-default, -ci-pr_any-, ...) fail since we don't control the path there and the node <code>PATH</code> is still not in place in that step.</p>", "type": "rendered"}, "created_on": "2017-01-05T00:35:57.487326+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 33368397}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/33368577.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-33368577"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I'm fine with installing `hg` to `/usr/bin` for osx nodes if we have a standard procedure for it. I tried downloading an official binary, but it didn't install to `/usr/bin`. How did you install on `t1000`?", "markup": "markdown", "html": "<p>I'm fine with installing <code>hg</code> to <code>/usr/bin</code> for osx nodes if we have a standard procedure for it. I tried downloading an official binary, but it didn't install to <code>/usr/bin</code>. How did you install on <code>t1000</code>?</p>", "type": "rendered"}, "created_on": "2017-01-05T00:59:43.869616+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 33368577}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/33395136.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-33395136"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I probably did something dirty in t1000 like copyting the binary directly to `/usr/bin`. Note that for doing that in the new OsX versions you will need to first disable the system [integrity protection](http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/).", "markup": "markdown", "html": "<p>I probably did something dirty in t1000 like copyting the binary directly to <code>/usr/bin</code>. Note that for doing that in the new OsX versions you will need to first disable the system <a data-is-external-link=\"true\" href=\"http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/\" rel=\"nofollow\">integrity protection</a>.</p>", "type": "rendered"}, "created_on": "2017-01-06T00:41:18.170629+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 33395136}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/36571086.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-36571086"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-05-04T21:02:31.339832+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36571086}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/36596764.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-36596764"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "When I abort a bottle build, all future builds get broken.", "markup": "markdown", "html": "<p>When I abort a bottle build, all future builds get broken.</p>", "type": "rendered"}, "created_on": "2017-05-06T00:56:58.080794+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 36596764}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/38578922.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-38578922"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I resolved the issue by removing some old configuration living the jenkins node variables. Please reopen if needed.", "markup": "markdown", "html": "<p>I resolved the issue by removing some old configuration living the jenkins node variables. Please reopen if needed.</p>", "type": "rendered"}, "created_on": "2017-07-26T22:59:01.728074+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 38578922}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/39839735.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-39839735"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "it still seems broken:\n\n* test build with el_capitan: https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/67/", "markup": "markdown", "html": "<p>it still seems broken:</p>\n<ul>\n<li>test build with el_capitan: <a href=\"https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/67/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/67/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-09-14T00:49:48.833829+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 39839735}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/39839755.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-39839755"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I've found an interesting stackoverflow post that says the environment variables are not set for the VCS checkout phase, but only the build phase, so the PATH+LOCAL_BUILD configuration was not helping\n\n* https://stackoverflow.com/a/39380081\n\nThe instructions in that post aren't exactly correct; I had to go to the `Global Tool Configuration` to add a mercurial installation that looks to `/usr/local`. That installation is named `HomeBrew`; I then changed the jenkins job configuration to use this mercurial tool installation\n\n* https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69\n\nHow do we specify the mercurial tool installation in the dsl for all the brew jobs?", "markup": "markdown", "html": "<p>I've found an interesting stackoverflow post that says the environment variables are not set for the VCS checkout phase, but only the build phase, so the PATH+LOCAL_BUILD configuration was not helping</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/39380081\" rel=\"nofollow\" class=\"ap-connect-link\">https://stackoverflow.com/a/39380081</a></li>\n</ul>\n<p>The instructions in that post aren't exactly correct; I had to go to the <code>Global Tool Configuration</code> to add a mercurial installation that looks to <code>/usr/local</code>. That installation is named <code>HomeBrew</code>; I then changed the jenkins job configuration to use this mercurial tool installation</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69</a></li>\n</ul>\n<p>How do we specify the mercurial tool installation in the dsl for all the brew jobs?</p>", "type": "rendered"}, "created_on": "2017-09-14T00:54:53.000180+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 39839755}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/39860970.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-39860970"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I think the final fixes for this issue are in the following pull requests:\n\n* pull request #442\n* pull request #443", "markup": "markdown", "html": "<p>I think the final fixes for this issue are in the following pull requests:</p>\n<ul>\n<li><a href=\"#!/osrf/release-tools/pull-requests/442/fix-mercurial-location-in-brew-jobs\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #442</a></li>\n<li><a href=\"#!/osrf/release-tools/pull-requests/443/try-to-brew-install-hg-if-it-cant-be-found\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #443</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-09-14T17:47:12.878205+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-09-14T17:47:25.119113+00:00", "type": "issue_comment", "id": 39860970}, {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/40206100.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-40206100"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "yay!", "markup": "markdown", "html": "<p>yay!</p>", "type": "rendered"}, "created_on": "2017-09-29T17:02:40.647268+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 40206100}], "page": 1, "size": 10}