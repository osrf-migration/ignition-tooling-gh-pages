{"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93/comments/39839755.json"}, "html": {"href": "#!/osrf/release-tools/issues/93#comment-39839755"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/release-tools/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/release-tools.json"}, "html": {"href": "#!/osrf/release-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{41811d3d-19d0-428e-a134-976595e72508}ts=python"}}, "type": "repository", "name": "release-tools", "full_name": "osrf/release-tools", "uuid": "{41811d3d-19d0-428e-a134-976595e72508}"}, "title": "homebrew jenkins nodes don't have /usr/local/bin in PATH"}, "content": {"raw": "I've found an interesting stackoverflow post that says the environment variables are not set for the VCS checkout phase, but only the build phase, so the PATH+LOCAL_BUILD configuration was not helping\n\n* https://stackoverflow.com/a/39380081\n\nThe instructions in that post aren't exactly correct; I had to go to the `Global Tool Configuration` to add a mercurial installation that looks to `/usr/local`. That installation is named `HomeBrew`; I then changed the jenkins job configuration to use this mercurial tool installation\n\n* https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69\n\nHow do we specify the mercurial tool installation in the dsl for all the brew jobs?", "markup": "markdown", "html": "<p>I've found an interesting stackoverflow post that says the environment variables are not set for the VCS checkout phase, but only the build phase, so the PATH+LOCAL_BUILD configuration was not helping</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/39380081\" rel=\"nofollow\" class=\"ap-connect-link\">https://stackoverflow.com/a/39380081</a></li>\n</ul>\n<p>The instructions in that post aren't exactly correct; I had to go to the <code>Global Tool Configuration</code> to add a mercurial installation that looks to <code>/usr/local</code>. That installation is named <code>HomeBrew</code>; I then changed the jenkins job configuration to use this mercurial tool installation</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/os_homebrew/job/ignition_common-ci-default-homebrew-amd64/69</a></li>\n</ul>\n<p>How do we specify the mercurial tool installation in the dsl for all the brew jobs?</p>", "type": "rendered"}, "created_on": "2017-09-14T00:54:53.000180+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 39839755}